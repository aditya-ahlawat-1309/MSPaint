{"ast":null,"code":"// create elemnt object whose id is (\" -------- \") ------------------//\nconst activeToolEl = document.getElementById(\"active-tool\");\nconst brushColorBtn = document.getElementById(\"brush-color\");\nconst brushIcon = document.getElementById(\"brush\");\nconst brushSize = document.getElementById(\"brush-size\");\nconst brushSlider = document.getElementById(\"brush-slider\");\nconst bucketColorBtn = document.getElementById(\"bucket-color\");\nconst eraser = document.getElementById(\"eraser\");\nconst clearCanvasBtn = document.getElementById(\"clear-canvas\");\nconst saveStorageBtn = document.getElementById(\"save-storage\");\nconst loadStorageBtn = document.getElementById(\"load-storage\");\nconst clearStorageBtn = document.getElementById(\"clear-storage\");\nconst downloadBtn = document.getElementById(\"download\");\nconst {\n  body\n} = document;\nactiveToolEl.textContent = \"Brush\"; // -----------------------------------------------------------------//\n// -------------- Global Variables ------------------------ //\n\nconst canvas = document.createElement(\"canvas\");\ncanvas.id = \"canvas\";\nconst context = canvas.getContext(\"2d\");\nlet currentSize = 10;\nlet bucketColor = \"#FFFFFF\";\nlet currentColor = \"#A51DAB\";\nlet isEraser = false;\nlet isMouseDown = false;\nlet drawnArray = []; // -------------------------------------------------------//\n// -------------- Formatting Brush Size --------------------//\n\nfunction displayBrushSize() {\n  // if brushSlider - (document with id = brush-slider) value is less than 10\n  if (brushSlider.value < 10) {\n    // change the text of brushSIze tp brushSlider value and add zero before it;\n    brushSize.textContent = `0${brushSlider.value}`;\n  } else {\n    // change the text of brushSIze tp brushSlider value\n    brushSize.textContent = brushSlider.value;\n  }\n} // ------------------------------------------------------------//\n//Setting Brush Size\n\n\nif (brushSlider) {\n  brushSlider.addEventListener(\"change\", () => {\n    currentSize = brushSlider.value;\n    displayBrushSize();\n  });\n} // Setting Brush Color\n\n\nif (brushColorBtn) {\n  brushColorBtn.addEventListener(\"change\", () => {\n    isEraser = false;\n    currentColor = `#${brushColorBtn.value}`;\n  });\n} // Setting Background Color\n\n\nif (bucketColorBtn) {\n  bucketColorBtn.addEventListener(\"change\", () => {\n    bucketColor = `#${bucketColorBtn.value}`;\n    createCanvas();\n    restoreCanvas();\n  });\n} // Eraser\n\n\nif (eraser) {\n  eraser.addEventListener(\"click\", () => {\n    isEraser = true;\n    brushIcon.style.color = \"white\";\n    eraser.style.color = \"black\";\n    activeToolEl.textContent = \"Eraser\";\n    currentColor = bucketColor;\n    currentSize = 50;\n  });\n} // Switch back to Brush\n\n\nfunction switchToBrush() {\n  isEraser = false;\n  activeToolEl.textContent = \"Brush\";\n  brushIcon.style.color = \"black\";\n  eraser.style.color = \"white\";\n  currentColor = `#${brushColorBtn.value}`;\n  currentSize = 10;\n  brushSlider.value = 10;\n  displayBrushSize();\n} // Create Canvas\n\n\nfunction createCanvas() {\n  canvas.width = window.innerWidth;\n  canvas.height = window.innerHeight - 50;\n  context.fillStyle = bucketColor;\n  context.fillRect(0, 0, canvas.width, canvas.height);\n  body.appendChild(canvas);\n  switchToBrush();\n} // Clear Canvas\n\n\nif (clearCanvasBtn) {\n  clearCanvasBtn.addEventListener(\"click\", () => {\n    createCanvas();\n    drawnArray = []; // Active Tool\n\n    activeToolEl.textContent = \"Canvas Cleared\";\n    setTimeout(switchToBrush, 1500);\n  });\n} // Draw what is stored in DrawnArray\n\n\nfunction restoreCanvas() {\n  for (let i = 1; i < drawnArray.length; i++) {\n    context.beginPath();\n    context.moveTo(drawnArray[i - 1].x, drawnArray[i - 1].y);\n    context.lineWidth = drawnArray[i].size;\n    context.lineCap = \"round\";\n\n    if (drawnArray[i].eraser) {\n      context.strokeStyle = bucketColor;\n    } else {\n      context.strokeStyle = drawnArray[i].color;\n    }\n\n    context.lineTo(drawnArray[i].x, drawnArray[i].y);\n    context.stroke();\n  }\n} // Store Drawn Lines in DrawnArray\n\n\nfunction storeDrawn(x, y, size, color, erase) {\n  const line = {\n    x,\n    y,\n    size,\n    color,\n    erase\n  };\n  drawnArray.push(line);\n} // Get Mouse Position\n\n\nfunction getMousePosition(event) {\n  const boundaries = canvas.getBoundingClientRect();\n  return {\n    x: event.clientX - boundaries.left,\n    y: event.clientY - boundaries.top\n  };\n} // Mouse Down\n\n\ncanvas.addEventListener(\"mousedown\", event => {\n  isMouseDown = true;\n  const currentPosition = getMousePosition(event);\n  context.moveTo(currentPosition.x, currentPosition.y);\n  context.beginPath();\n  context.lineWidth = currentSize;\n  context.lineCap = \"round\";\n  context.strokeStyle = currentColor;\n}); // Mouse Move\n\ncanvas.addEventListener(\"mousemove\", event => {\n  if (isMouseDown) {\n    const currentPosition = getMousePosition(event);\n    context.lineTo(currentPosition.x, currentPosition.y);\n    context.stroke();\n    storeDrawn(currentPosition.x, currentPosition.y, currentSize, currentColor, isEraser);\n  } else {\n    storeDrawn(undefined);\n  }\n}); // Mouse Up\n\ncanvas.addEventListener(\"mouseup\", () => {\n  isMouseDown = false;\n}); // Save to Local Storage\n\nif (saveStorageBtn) {\n  saveStorageBtn.addEventListener(\"click\", () => {\n    localStorage.setItem(\"savedCanvas\", JSON.stringify(drawnArray)); // Active Tool\n\n    activeToolEl.textContent = \"Canvas Saved\";\n    setTimeout(switchToBrush, 1500);\n  });\n} // Load from Local Storage\n\n\nif (loadStorageBtn) {\n  loadStorageBtn.addEventListener(\"click\", () => {\n    if (localStorage.getItem(\"savedCanvas\")) {\n      drawnArray = JSON.parse(localStorage.savedCanvas);\n      restoreCanvas(); // Active Tool\n\n      activeToolEl.textContent = \"Canvas Loaded\";\n      setTimeout(switchToBrush, 1500);\n    } else {\n      activeToolEl.textContent = \"No Canvas Found\";\n      setTimeout(switchToBrush, 1500);\n    }\n  });\n} // Clear Local Storage\n\n\nif (clearStorageBtn) {\n  clearStorageBtn.addEventListener(\"click\", () => {\n    localStorage.removeItem(\"savedCanvas\"); // Active Tool\n\n    activeToolEl.textContent = \"Local Storage Cleared\";\n    setTimeout(switchToBrush, 1500);\n  });\n} // Download Image\n\n\nif (downloadBtn) {\n  downloadBtn.addEventListener(\"click\", () => {\n    downloadBtn.href = canvas.toDataURL(\"image/jpeg\", 1);\n    downloadBtn.download = \"paint-example.jpeg\"; // Active Tool\n\n    activeToolEl.textContent = \"Image File Saved\";\n    setTimeout(switchToBrush, 1500);\n  });\n} // Event Listener\n\n\nif (brushIcon) {\n  brushIcon.addEventListener(\"click\", switchToBrush);\n} // On Load\n\n\ncreateCanvas();","map":{"version":3,"names":["activeToolEl","document","getElementById","brushColorBtn","brushIcon","brushSize","brushSlider","bucketColorBtn","eraser","clearCanvasBtn","saveStorageBtn","loadStorageBtn","clearStorageBtn","downloadBtn","body","textContent","canvas","createElement","id","context","getContext","currentSize","bucketColor","currentColor","isEraser","isMouseDown","drawnArray","displayBrushSize","value","addEventListener","createCanvas","restoreCanvas","style","color","switchToBrush","width","window","innerWidth","height","innerHeight","fillStyle","fillRect","appendChild","setTimeout","i","length","beginPath","moveTo","x","y","lineWidth","size","lineCap","strokeStyle","lineTo","stroke","storeDrawn","erase","line","push","getMousePosition","event","boundaries","getBoundingClientRect","clientX","left","clientY","top","currentPosition","undefined","localStorage","setItem","JSON","stringify","getItem","parse","savedCanvas","removeItem","href","toDataURL","download"],"sources":["D:/Mac OS X Projects/7. Mini-Apps/paint-clone-2/src/script.js"],"sourcesContent":["// create elemnt object whose id is (\" -------- \") ------------------//\r\nconst activeToolEl = document.getElementById(\"active-tool\");\r\nconst brushColorBtn = document.getElementById(\"brush-color\");\r\nconst brushIcon = document.getElementById(\"brush\");\r\nconst brushSize = document.getElementById(\"brush-size\");\r\nconst brushSlider = document.getElementById(\"brush-slider\");\r\nconst bucketColorBtn = document.getElementById(\"bucket-color\");\r\nconst eraser = document.getElementById(\"eraser\");\r\nconst clearCanvasBtn = document.getElementById(\"clear-canvas\");\r\nconst saveStorageBtn = document.getElementById(\"save-storage\");\r\nconst loadStorageBtn = document.getElementById(\"load-storage\");\r\nconst clearStorageBtn = document.getElementById(\"clear-storage\");\r\nconst downloadBtn = document.getElementById(\"download\");\r\nconst { body } = document;\r\nactiveToolEl.textContent = \"Brush\";\r\n// -----------------------------------------------------------------//\r\n\r\n// -------------- Global Variables ------------------------ //\r\nconst canvas = document.createElement(\"canvas\");\r\ncanvas.id = \"canvas\";\r\nconst context = canvas.getContext(\"2d\");\r\nlet currentSize = 10;\r\nlet bucketColor = \"#FFFFFF\";\r\nlet currentColor = \"#A51DAB\";\r\nlet isEraser = false;\r\nlet isMouseDown = false;\r\nlet drawnArray = [];\r\n// -------------------------------------------------------//\r\n\r\n// -------------- Formatting Brush Size --------------------//\r\nfunction displayBrushSize() {\r\n  // if brushSlider - (document with id = brush-slider) value is less than 10\r\n  if (brushSlider.value < 10) {\r\n    // change the text of brushSIze tp brushSlider value and add zero before it;\r\n    brushSize.textContent = `0${brushSlider.value}`;\r\n  } else {\r\n    // change the text of brushSIze tp brushSlider value\r\n    brushSize.textContent = brushSlider.value;\r\n  }\r\n}\r\n// ------------------------------------------------------------//\r\n\r\n//Setting Brush Size\r\nif(brushSlider)\r\n{\r\nbrushSlider.addEventListener(\"change\", () => {\r\n  currentSize = brushSlider.value;\r\n  displayBrushSize();\r\n});\r\n}\r\n// Setting Brush Color\r\nif(brushColorBtn)\r\n{\r\nbrushColorBtn.addEventListener(\"change\", () => {\r\n  isEraser = false;\r\n  currentColor = `#${brushColorBtn.value}`;\r\n});\r\n}\r\n// Setting Background Color\r\nif(bucketColorBtn)\r\n{\r\nbucketColorBtn.addEventListener(\"change\", () => {\r\n  bucketColor = `#${bucketColorBtn.value}`;\r\n  createCanvas();\r\n  restoreCanvas();\r\n});\r\n}\r\n// Eraser\r\nif(eraser){\r\neraser.addEventListener(\"click\", () => {\r\n  isEraser = true;\r\n  brushIcon.style.color = \"white\";\r\n  eraser.style.color = \"black\";\r\n  activeToolEl.textContent = \"Eraser\";\r\n  currentColor = bucketColor;\r\n  currentSize = 50;\r\n});\r\n}\r\n\r\n// Switch back to Brush\r\nfunction switchToBrush() {\r\n  isEraser = false;\r\n  activeToolEl.textContent = \"Brush\";\r\n  brushIcon.style.color = \"black\";\r\n  eraser.style.color = \"white\";\r\n  currentColor = `#${brushColorBtn.value}`;\r\n  currentSize = 10;\r\n  brushSlider.value = 10;\r\n  displayBrushSize();\r\n}\r\n\r\n// Create Canvas\r\nfunction createCanvas() {\r\n  canvas.width = window.innerWidth;\r\n  canvas.height = window.innerHeight - 50;\r\n  context.fillStyle = bucketColor;\r\n  context.fillRect(0, 0, canvas.width, canvas.height);\r\n  body.appendChild(canvas);\r\n  switchToBrush();\r\n  \r\n}\r\n\r\n// Clear Canvas\r\nif(clearCanvasBtn){\r\nclearCanvasBtn.addEventListener(\"click\", () => {\r\n  createCanvas();\r\n  drawnArray = [];\r\n  // Active Tool\r\n  activeToolEl.textContent = \"Canvas Cleared\";\r\n  setTimeout(switchToBrush, 1500);\r\n});\r\n}\r\n// Draw what is stored in DrawnArray\r\nfunction restoreCanvas() {\r\n  for (let i = 1; i < drawnArray.length; i++) {\r\n    context.beginPath();\r\n    context.moveTo(drawnArray[i - 1].x, drawnArray[i - 1].y);\r\n    context.lineWidth = drawnArray[i].size;\r\n    context.lineCap = \"round\";\r\n    if (drawnArray[i].eraser) {\r\n      context.strokeStyle = bucketColor;\r\n    } else {\r\n      context.strokeStyle = drawnArray[i].color;\r\n    }\r\n    context.lineTo(drawnArray[i].x, drawnArray[i].y);\r\n    context.stroke();\r\n  }\r\n}\r\n\r\n// Store Drawn Lines in DrawnArray\r\nfunction storeDrawn(x, y, size, color, erase) {\r\n  const line = {\r\n    x,\r\n    y,\r\n    size,\r\n    color,\r\n    erase,\r\n  };\r\n  drawnArray.push(line);\r\n}\r\n\r\n// Get Mouse Position\r\nfunction getMousePosition(event) {\r\n  const boundaries = canvas.getBoundingClientRect();\r\n  return {\r\n    x: event.clientX - boundaries.left,\r\n    y: event.clientY - boundaries.top,\r\n  };\r\n}\r\n\r\n// Mouse Down\r\ncanvas.addEventListener(\"mousedown\", (event) => {\r\n  isMouseDown = true;\r\n  const currentPosition = getMousePosition(event);\r\n  context.moveTo(currentPosition.x, currentPosition.y);\r\n  context.beginPath();\r\n  context.lineWidth = currentSize;\r\n  context.lineCap = \"round\";\r\n  context.strokeStyle = currentColor;\r\n});\r\n\r\n// Mouse Move\r\ncanvas.addEventListener(\"mousemove\", (event) => {\r\n  if (isMouseDown) {\r\n    const currentPosition = getMousePosition(event);\r\n    context.lineTo(currentPosition.x, currentPosition.y);\r\n    context.stroke();\r\n    storeDrawn(\r\n      currentPosition.x,\r\n      currentPosition.y,\r\n      currentSize,\r\n      currentColor,\r\n      isEraser\r\n    );\r\n  } else {\r\n    storeDrawn(undefined);\r\n  }\r\n});\r\n\r\n// Mouse Up\r\ncanvas.addEventListener(\"mouseup\", () => {\r\n  isMouseDown = false;\r\n});\r\n\r\n// Save to Local Storage\r\nif(saveStorageBtn){\r\nsaveStorageBtn.addEventListener(\"click\", () => {\r\n  localStorage.setItem(\"savedCanvas\", JSON.stringify(drawnArray));\r\n  // Active Tool\r\n  activeToolEl.textContent = \"Canvas Saved\";\r\n  setTimeout(switchToBrush, 1500);\r\n});\r\n}\r\n\r\n// Load from Local Storage\r\nif(loadStorageBtn){\r\nloadStorageBtn.addEventListener(\"click\", () => {\r\n  if (localStorage.getItem(\"savedCanvas\")) {\r\n    drawnArray = JSON.parse(localStorage.savedCanvas);\r\n    restoreCanvas();\r\n    // Active Tool\r\n    activeToolEl.textContent = \"Canvas Loaded\";\r\n    setTimeout(switchToBrush, 1500);\r\n  } else {\r\n    activeToolEl.textContent = \"No Canvas Found\";\r\n    setTimeout(switchToBrush, 1500);\r\n  }\r\n});\r\n}\r\n\r\n// Clear Local Storage\r\nif(clearStorageBtn)\r\n{\r\nclearStorageBtn.addEventListener(\"click\", () => {\r\n  localStorage.removeItem(\"savedCanvas\");\r\n  // Active Tool\r\n  activeToolEl.textContent = \"Local Storage Cleared\";\r\n  setTimeout(switchToBrush, 1500);\r\n});\r\n}\r\n// Download Image\r\nif(downloadBtn){\r\ndownloadBtn.addEventListener(\"click\", () => {\r\n  downloadBtn.href = canvas.toDataURL(\"image/jpeg\", 1);\r\n  downloadBtn.download = \"paint-example.jpeg\";\r\n  // Active Tool\r\n  activeToolEl.textContent = \"Image File Saved\";\r\n  setTimeout(switchToBrush, 1500);\r\n});\r\n}\r\n// Event Listener\r\nif(brushIcon){\r\nbrushIcon.addEventListener(\"click\", switchToBrush);\r\n}\r\n// On Load\r\ncreateCanvas();\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}