{"ast":null,"code":"import React from 'react';\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Color = () => {\n  /**\r\n   * jscolor - JavaScript Color Picker\r\n   *\r\n   * @link    http://jscolor.com\r\n   * @license For open source use: GPLv3\r\n   *          For commercial use: JSColor Commercial License\r\n   * @author  Jan Odvarko\r\n   * @version 2.0.5\r\n   *\r\n   * See usage examples at http://jscolor.com/examples/\r\n   */\n  \"use strict\";\n\n  if (!window.jscolor) {\n    window.jscolor = function () {\n      var jsc = {\n        register: function () {\n          jsc.attachDOMReadyEvent(jsc.init);\n          jsc.attachEvent(document, \"mousedown\", jsc.onDocumentMouseDown);\n          jsc.attachEvent(document, \"touchstart\", jsc.onDocumentTouchStart);\n          jsc.attachEvent(window, \"resize\", jsc.onWindowResize);\n        },\n        init: function () {\n          if (jsc.jscolor.lookupClass) {\n            jsc.jscolor.installByClassName(jsc.jscolor.lookupClass);\n          }\n        },\n        tryInstallOnElements: function (elms, className) {\n          var matchClass = new RegExp(\"(^|\\\\s)(\" + className + \")(\\\\s*(\\\\{[^}]*\\\\})|\\\\s|$)\", \"i\");\n\n          for (var i = 0; i < elms.length; i += 1) {\n            if (elms[i].type !== undefined && elms[i].type.toLowerCase() == \"color\") {\n              if (jsc.isColorAttrSupported) {\n                // skip inputs of type 'color' if supported by the browser\n                continue;\n              }\n            }\n\n            var m;\n\n            if (!elms[i].jscolor && elms[i].className && (m = elms[i].className.match(matchClass))) {\n              var targetElm = elms[i];\n              var optsStr = null;\n              var dataOptions = jsc.getDataAttr(targetElm, \"jscolor\");\n\n              if (dataOptions !== null) {\n                optsStr = dataOptions;\n              } else if (m[4]) {\n                optsStr = m[4];\n              }\n\n              var opts = {};\n\n              if (optsStr) {\n                try {\n                  opts = new Function(\"return (\" + optsStr + \")\")();\n                } catch (eParseError) {\n                  jsc.warn(\"Error parsing jscolor options: \" + eParseError + \":\\n\" + optsStr);\n                }\n              }\n\n              targetElm.jscolor = new jsc.jscolor(targetElm, opts);\n            }\n          }\n        },\n        isColorAttrSupported: function () {\n          var elm = document.createElement(\"input\");\n\n          if (elm.setAttribute) {\n            elm.setAttribute(\"type\", \"color\");\n\n            if (elm.type.toLowerCase() == \"color\") {\n              return true;\n            }\n          }\n\n          return false;\n        }(),\n        isCanvasSupported: function () {\n          var elm = document.createElement(\"canvas\");\n          return !!(elm.getContext && elm.getContext(\"2d\"));\n        }(),\n        fetchElement: function (mixed) {\n          return typeof mixed === \"string\" ? document.getElementById(mixed) : mixed;\n        },\n        isElementType: function (elm, type) {\n          return elm.nodeName.toLowerCase() === type.toLowerCase();\n        },\n        getDataAttr: function (el, name) {\n          var attrName = \"data-\" + name;\n          var attrValue = el.getAttribute(attrName);\n\n          if (attrValue !== null) {\n            return attrValue;\n          }\n\n          return null;\n        },\n        attachEvent: function (el, evnt, func) {\n          if (el.addEventListener) {\n            el.addEventListener(evnt, func, false);\n          } else if (el.attachEvent) {\n            el.attachEvent(\"on\" + evnt, func);\n          }\n        },\n        detachEvent: function (el, evnt, func) {\n          if (el.removeEventListener) {\n            el.removeEventListener(evnt, func, false);\n          } else if (el.detachEvent) {\n            el.detachEvent(\"on\" + evnt, func);\n          }\n        },\n        _attachedGroupEvents: {},\n        attachGroupEvent: function (groupName, el, evnt, func) {\n          if (!jsc._attachedGroupEvents.hasOwnProperty(groupName)) {\n            jsc._attachedGroupEvents[groupName] = [];\n          }\n\n          jsc._attachedGroupEvents[groupName].push([el, evnt, func]);\n\n          jsc.attachEvent(el, evnt, func);\n        },\n        detachGroupEvents: function (groupName) {\n          if (jsc._attachedGroupEvents.hasOwnProperty(groupName)) {\n            for (var i = 0; i < jsc._attachedGroupEvents[groupName].length; i += 1) {\n              var evt = jsc._attachedGroupEvents[groupName][i];\n              jsc.detachEvent(evt[0], evt[1], evt[2]);\n            }\n\n            delete jsc._attachedGroupEvents[groupName];\n          }\n        },\n        attachDOMReadyEvent: function (func) {\n          var fired = false;\n\n          var fireOnce = function () {\n            if (!fired) {\n              fired = true;\n              func();\n            }\n          };\n\n          if (document.readyState === \"complete\") {\n            setTimeout(fireOnce, 1); // async\n\n            return;\n          }\n\n          if (document.addEventListener) {\n            document.addEventListener(\"DOMContentLoaded\", fireOnce, false); // Fallback\n\n            window.addEventListener(\"load\", fireOnce, false);\n          } else if (document.attachEvent) {\n            // IE\n            document.attachEvent(\"onreadystatechange\", function () {\n              if (document.readyState === \"complete\") {\n                document.detachEvent(\"onreadystatechange\", arguments.callee);\n                fireOnce();\n              }\n            }); // Fallback\n\n            window.attachEvent(\"onload\", fireOnce); // IE7/8\n\n            if (document.documentElement.doScroll && window == window.top) {\n              var tryScroll = function () {\n                if (!document.body) {\n                  return;\n                }\n\n                try {\n                  document.documentElement.doScroll(\"left\");\n                  fireOnce();\n                } catch (e) {\n                  setTimeout(tryScroll, 1);\n                }\n              };\n\n              tryScroll();\n            }\n          }\n        },\n        warn: function (msg) {\n          if (window.console && window.console.warn) {\n            window.console.warn(msg);\n          }\n        },\n        preventDefault: function (e) {\n          if (e.preventDefault) {\n            e.preventDefault();\n          }\n\n          e.returnValue = false;\n        },\n        captureTarget: function (target) {\n          // IE\n          if (target.setCapture) {\n            jsc._capturedTarget = target;\n\n            jsc._capturedTarget.setCapture();\n          }\n        },\n        releaseTarget: function () {\n          // IE\n          if (jsc._capturedTarget) {\n            jsc._capturedTarget.releaseCapture();\n\n            jsc._capturedTarget = null;\n          }\n        },\n        fireEvent: function (el, evnt) {\n          if (!el) {\n            return;\n          }\n\n          if (document.createEvent) {\n            var ev = document.createEvent(\"HTMLEvents\");\n            ev.initEvent(evnt, true, true);\n            el.dispatchEvent(ev);\n          } else if (document.createEventObject) {\n            var ev = document.createEventObject();\n            el.fireEvent(\"on\" + evnt, ev);\n          } else if (el[\"on\" + evnt]) {\n            // alternatively use the traditional event model\n            el[\"on\" + evnt]();\n          }\n        },\n        classNameToList: function (className) {\n          return className.replace(/^\\s+|\\s+$/g, \"\").split(/\\s+/);\n        },\n        // The className parameter (str) can only contain a single class name\n        hasClass: function (elm, className) {\n          if (!className) {\n            return false;\n          }\n\n          return -1 != (\" \" + elm.className.replace(/\\s+/g, \" \") + \" \").indexOf(\" \" + className + \" \");\n        },\n        // The className parameter (str) can contain multiple class names separated by whitespace\n        setClass: function (elm, className) {\n          var classList = jsc.classNameToList(className);\n\n          for (var i = 0; i < classList.length; i += 1) {\n            if (!jsc.hasClass(elm, classList[i])) {\n              elm.className += (elm.className ? \" \" : \"\") + classList[i];\n            }\n          }\n        },\n        // The className parameter (str) can contain multiple class names separated by whitespace\n        unsetClass: function (elm, className) {\n          var classList = jsc.classNameToList(className);\n\n          for (var i = 0; i < classList.length; i += 1) {\n            var repl = new RegExp(\"^\\\\s*\" + classList[i] + \"\\\\s*|\" + \"\\\\s*\" + classList[i] + \"\\\\s*$|\" + \"\\\\s+\" + classList[i] + \"(\\\\s+)\", \"g\");\n            elm.className = elm.className.replace(repl, \"$1\");\n          }\n        },\n        getStyle: function (elm) {\n          return window.getComputedStyle ? window.getComputedStyle(elm) : elm.currentStyle;\n        },\n        setStyle: function () {\n          var helper = document.createElement(\"div\");\n\n          var getSupportedProp = function (names) {\n            for (var i = 0; i < names.length; i += 1) {\n              if (names[i] in helper.style) {\n                return names[i];\n              }\n            }\n          };\n\n          var props = {\n            borderRadius: getSupportedProp([\"borderRadius\", \"MozBorderRadius\", \"webkitBorderRadius\"]),\n            boxShadow: getSupportedProp([\"boxShadow\", \"MozBoxShadow\", \"webkitBoxShadow\"])\n          };\n          return function (elm, prop, value) {\n            switch (prop.toLowerCase()) {\n              case \"opacity\":\n                var alphaOpacity = Math.round(parseFloat(value) * 100);\n                elm.style.opacity = value;\n                elm.style.filter = \"alpha(opacity=\" + alphaOpacity + \")\";\n                break;\n\n              default:\n                elm.style[props[prop]] = value;\n                break;\n            }\n          };\n        }(),\n        setBorderRadius: function (elm, value) {\n          jsc.setStyle(elm, \"borderRadius\", value || \"0\");\n        },\n        setBoxShadow: function (elm, value) {\n          jsc.setStyle(elm, \"boxShadow\", value || \"none\");\n        },\n        getElementPos: function (e, relativeToViewport) {\n          var x = 0,\n              y = 0;\n          var rect = e.getBoundingClientRect();\n          x = rect.left;\n          y = rect.top;\n\n          if (!relativeToViewport) {\n            var viewPos = jsc.getViewPos();\n            x += viewPos[0];\n            y += viewPos[1];\n          }\n\n          return [x, y];\n        },\n        getElementSize: function (e) {\n          return [e.offsetWidth, e.offsetHeight];\n        },\n        // get pointer's X/Y coordinates relative to viewport\n        getAbsPointerPos: function (e) {\n          if (!e) {\n            e = window.event;\n          }\n\n          var x = 0,\n              y = 0;\n\n          if (typeof e.changedTouches !== \"undefined\" && e.changedTouches.length) {\n            // touch devices\n            x = e.changedTouches[0].clientX;\n            y = e.changedTouches[0].clientY;\n          } else if (typeof e.clientX === \"number\") {\n            x = e.clientX;\n            y = e.clientY;\n          }\n\n          return {\n            x: x,\n            y: y\n          };\n        },\n        // get pointer's X/Y coordinates relative to target element\n        getRelPointerPos: function (e) {\n          if (!e) {\n            e = window.event;\n          }\n\n          var target = e.target || e.srcElement;\n          var targetRect = target.getBoundingClientRect();\n          var x = 0,\n              y = 0;\n          var clientX = 0,\n              clientY = 0;\n\n          if (typeof e.changedTouches !== \"undefined\" && e.changedTouches.length) {\n            // touch devices\n            clientX = e.changedTouches[0].clientX;\n            clientY = e.changedTouches[0].clientY;\n          } else if (typeof e.clientX === \"number\") {\n            clientX = e.clientX;\n            clientY = e.clientY;\n          }\n\n          x = clientX - targetRect.left;\n          y = clientY - targetRect.top;\n          return {\n            x: x,\n            y: y\n          };\n        },\n        getViewPos: function () {\n          var doc = document.documentElement;\n          return [(window.pageXOffset || doc.scrollLeft) - (doc.clientLeft || 0), (window.pageYOffset || doc.scrollTop) - (doc.clientTop || 0)];\n        },\n        getViewSize: function () {\n          var doc = document.documentElement;\n          return [window.innerWidth || doc.clientWidth, window.innerHeight || doc.clientHeight];\n        },\n        redrawPosition: function () {\n          if (jsc.picker && jsc.picker.owner) {\n            var thisObj = jsc.picker.owner;\n            var tp, vp;\n\n            if (thisObj.fixed) {\n              // Fixed elements are positioned relative to viewport,\n              // therefore we can ignore the scroll offset\n              tp = jsc.getElementPos(thisObj.targetElement, true); // target pos\n\n              vp = [0, 0]; // view pos\n            } else {\n              tp = jsc.getElementPos(thisObj.targetElement); // target pos\n\n              vp = jsc.getViewPos(); // view pos\n            }\n\n            var ts = jsc.getElementSize(thisObj.targetElement); // target size\n\n            var vs = jsc.getViewSize(); // view size\n\n            var ps = jsc.getPickerOuterDims(thisObj); // picker size\n\n            var a, b, c;\n\n            switch (thisObj.position.toLowerCase()) {\n              case \"left\":\n                a = 1;\n                b = 0;\n                c = -1;\n                break;\n\n              case \"right\":\n                a = 1;\n                b = 0;\n                c = 1;\n                break;\n\n              case \"top\":\n                a = 0;\n                b = 1;\n                c = -1;\n                break;\n\n              default:\n                a = 0;\n                b = 1;\n                c = 1;\n                break;\n            }\n\n            var l = (ts[b] + ps[b]) / 2; // compute picker position\n\n            if (!thisObj.smartPosition) {\n              var pp = [tp[a], tp[b] + ts[b] - l + l * c];\n            } else {\n              var pp = [-vp[a] + tp[a] + ps[a] > vs[a] ? -vp[a] + tp[a] + ts[a] / 2 > vs[a] / 2 && tp[a] + ts[a] - ps[a] >= 0 ? tp[a] + ts[a] - ps[a] : tp[a] : tp[a], -vp[b] + tp[b] + ts[b] + ps[b] - l + l * c > vs[b] ? -vp[b] + tp[b] + ts[b] / 2 > vs[b] / 2 && tp[b] + ts[b] - l - l * c >= 0 ? tp[b] + ts[b] - l - l * c : tp[b] + ts[b] - l + l * c : tp[b] + ts[b] - l + l * c >= 0 ? tp[b] + ts[b] - l + l * c : tp[b] + ts[b] - l - l * c];\n            }\n\n            var x = pp[a];\n            var y = pp[b];\n            var positionValue = thisObj.fixed ? \"fixed\" : \"absolute\";\n            var contractShadow = (pp[0] + ps[0] > tp[0] || pp[0] < tp[0] + ts[0]) && pp[1] + ps[1] < tp[1] + ts[1];\n\n            jsc._drawPosition(thisObj, x, y, positionValue, contractShadow);\n          }\n        },\n        _drawPosition: function (thisObj, x, y, positionValue, contractShadow) {\n          var vShadow = contractShadow ? 0 : thisObj.shadowBlur; // px\n\n          jsc.picker.wrap.style.position = positionValue;\n          jsc.picker.wrap.style.left = x + \"px\";\n          jsc.picker.wrap.style.top = y + \"px\";\n          jsc.setBoxShadow(jsc.picker.boxS, thisObj.shadow ? new jsc.BoxShadow(0, vShadow, thisObj.shadowBlur, 0, thisObj.shadowColor) : null);\n        },\n        getPickerDims: function (thisObj) {\n          var displaySlider = !!jsc.getSliderComponent(thisObj);\n          var dims = [2 * thisObj.insetWidth + 2 * thisObj.padding + thisObj.width + (displaySlider ? 2 * thisObj.insetWidth + jsc.getPadToSliderPadding(thisObj) + thisObj.sliderSize : 0), 2 * thisObj.insetWidth + 2 * thisObj.padding + thisObj.height + (thisObj.closable ? 2 * thisObj.insetWidth + thisObj.padding + thisObj.buttonHeight : 0)];\n          return dims;\n        },\n        getPickerOuterDims: function (thisObj) {\n          var dims = jsc.getPickerDims(thisObj);\n          return [dims[0] + 2 * thisObj.borderWidth, dims[1] + 2 * thisObj.borderWidth];\n        },\n        getPadToSliderPadding: function (thisObj) {\n          return Math.max(thisObj.padding, 1.5 * (2 * thisObj.pointerBorderWidth + thisObj.pointerThickness));\n        },\n        getPadYComponent: function (thisObj) {\n          switch (thisObj.mode.charAt(1).toLowerCase()) {\n            case \"v\":\n              return \"v\";\n              break;\n          }\n\n          return \"s\";\n        },\n        getSliderComponent: function (thisObj) {\n          if (thisObj.mode.length > 2) {\n            switch (thisObj.mode.charAt(2).toLowerCase()) {\n              case \"s\":\n                return \"s\";\n                break;\n\n              case \"v\":\n                return \"v\";\n                break;\n            }\n          }\n\n          return null;\n        },\n        onDocumentMouseDown: function (e) {\n          if (!e) {\n            e = window.event;\n          }\n\n          var target = e.target || e.srcElement;\n\n          if (target._jscLinkedInstance) {\n            if (target._jscLinkedInstance.showOnClick) {\n              target._jscLinkedInstance.show();\n            }\n          } else if (target._jscControlName) {\n            jsc.onControlPointerStart(e, target, target._jscControlName, \"mouse\");\n          } else {\n            // Mouse is outside the picker controls -> hide the color picker!\n            if (jsc.picker && jsc.picker.owner) {\n              jsc.picker.owner.hide();\n            }\n          }\n        },\n        onDocumentTouchStart: function (e) {\n          if (!e) {\n            e = window.event;\n          }\n\n          var target = e.target || e.srcElement;\n\n          if (target._jscLinkedInstance) {\n            if (target._jscLinkedInstance.showOnClick) {\n              target._jscLinkedInstance.show();\n            }\n          } else if (target._jscControlName) {\n            jsc.onControlPointerStart(e, target, target._jscControlName, \"touch\");\n          } else {\n            if (jsc.picker && jsc.picker.owner) {\n              jsc.picker.owner.hide();\n            }\n          }\n        },\n        onWindowResize: function (e) {\n          jsc.redrawPosition();\n        },\n        onParentScroll: function (e) {\n          // hide the picker when one of the parent elements is scrolled\n          if (jsc.picker && jsc.picker.owner) {\n            jsc.picker.owner.hide();\n          }\n        },\n        _pointerMoveEvent: {\n          mouse: \"mousemove\",\n          touch: \"touchmove\"\n        },\n        _pointerEndEvent: {\n          mouse: \"mouseup\",\n          touch: \"touchend\"\n        },\n        _pointerOrigin: null,\n        _capturedTarget: null,\n        onControlPointerStart: function (e, target, controlName, pointerType) {\n          var thisObj = target._jscInstance;\n          jsc.preventDefault(e);\n          jsc.captureTarget(target);\n\n          var registerDragEvents = function (doc, offset) {\n            jsc.attachGroupEvent(\"drag\", doc, jsc._pointerMoveEvent[pointerType], jsc.onDocumentPointerMove(e, target, controlName, pointerType, offset));\n            jsc.attachGroupEvent(\"drag\", doc, jsc._pointerEndEvent[pointerType], jsc.onDocumentPointerEnd(e, target, controlName, pointerType));\n          };\n\n          registerDragEvents(document, [0, 0]);\n\n          if (window.parent && window.frameElement) {\n            var rect = window.frameElement.getBoundingClientRect();\n            var ofs = [-rect.left, -rect.top];\n            registerDragEvents(window.parent.window.document, ofs);\n          }\n\n          var abs = jsc.getAbsPointerPos(e);\n          var rel = jsc.getRelPointerPos(e);\n          jsc._pointerOrigin = {\n            x: abs.x - rel.x,\n            y: abs.y - rel.y\n          };\n\n          switch (controlName) {\n            case \"pad\":\n              // if the slider is at the bottom, move it up\n              switch (jsc.getSliderComponent(thisObj)) {\n                case \"s\":\n                  if (thisObj.hsv[1] === 0) {\n                    thisObj.fromHSV(null, 100, null);\n                  }\n\n                  break;\n\n                case \"v\":\n                  if (thisObj.hsv[2] === 0) {\n                    thisObj.fromHSV(null, null, 100);\n                  }\n\n                  break;\n              }\n\n              jsc.setPad(thisObj, e, 0, 0);\n              break;\n\n            case \"sld\":\n              jsc.setSld(thisObj, e, 0);\n              break;\n          }\n\n          jsc.dispatchFineChange(thisObj);\n        },\n        onDocumentPointerMove: function (e, target, controlName, pointerType, offset) {\n          return function (e) {\n            var thisObj = target._jscInstance;\n\n            switch (controlName) {\n              case \"pad\":\n                if (!e) {\n                  e = window.event;\n                }\n\n                jsc.setPad(thisObj, e, offset[0], offset[1]);\n                jsc.dispatchFineChange(thisObj);\n                break;\n\n              case \"sld\":\n                if (!e) {\n                  e = window.event;\n                }\n\n                jsc.setSld(thisObj, e, offset[1]);\n                jsc.dispatchFineChange(thisObj);\n                break;\n            }\n          };\n        },\n        onDocumentPointerEnd: function (e, target, controlName, pointerType) {\n          return function (e) {\n            var thisObj = target._jscInstance;\n            jsc.detachGroupEvents(\"drag\");\n            jsc.releaseTarget(); // Always dispatch changes after detaching outstanding mouse handlers,\n            // in case some user interaction will occur in user's onchange callback\n            // that would intrude with current mouse events\n\n            jsc.dispatchChange(thisObj);\n          };\n        },\n        dispatchChange: function (thisObj) {\n          if (thisObj.valueElement) {\n            if (jsc.isElementType(thisObj.valueElement, \"input\")) {\n              jsc.fireEvent(thisObj.valueElement, \"change\");\n            }\n          }\n        },\n        dispatchFineChange: function (thisObj) {\n          if (thisObj.onFineChange) {\n            var callback;\n\n            if (typeof thisObj.onFineChange === \"string\") {\n              callback = new Function(thisObj.onFineChange);\n            } else {\n              callback = thisObj.onFineChange;\n            }\n\n            callback.call(thisObj);\n          }\n        },\n        setPad: function (thisObj, e, ofsX, ofsY) {\n          var pointerAbs = jsc.getAbsPointerPos(e);\n          var x = ofsX + pointerAbs.x - jsc._pointerOrigin.x - thisObj.padding - thisObj.insetWidth;\n          var y = ofsY + pointerAbs.y - jsc._pointerOrigin.y - thisObj.padding - thisObj.insetWidth;\n          var xVal = x * (360 / (thisObj.width - 1));\n          var yVal = 100 - y * (100 / (thisObj.height - 1));\n\n          switch (jsc.getPadYComponent(thisObj)) {\n            case \"s\":\n              thisObj.fromHSV(xVal, yVal, null, jsc.leaveSld);\n              break;\n\n            case \"v\":\n              thisObj.fromHSV(xVal, null, yVal, jsc.leaveSld);\n              break;\n          }\n        },\n        setSld: function (thisObj, e, ofsY) {\n          var pointerAbs = jsc.getAbsPointerPos(e);\n          var y = ofsY + pointerAbs.y - jsc._pointerOrigin.y - thisObj.padding - thisObj.insetWidth;\n          var yVal = 100 - y * (100 / (thisObj.height - 1));\n\n          switch (jsc.getSliderComponent(thisObj)) {\n            case \"s\":\n              thisObj.fromHSV(null, yVal, null, jsc.leavePad);\n              break;\n\n            case \"v\":\n              thisObj.fromHSV(null, null, yVal, jsc.leavePad);\n              break;\n          }\n        },\n        _vmlNS: \"jsc_vml_\",\n        _vmlCSS: \"jsc_vml_css_\",\n        _vmlReady: false,\n        initVML: function () {\n          if (!jsc._vmlReady) {\n            // init VML namespace\n            var doc = document;\n\n            if (!doc.namespaces[jsc._vmlNS]) {\n              doc.namespaces.add(jsc._vmlNS, \"urn:schemas-microsoft-com:vml\");\n            }\n\n            if (!doc.styleSheets[jsc._vmlCSS]) {\n              var tags = [\"shape\", \"shapetype\", \"group\", \"background\", \"path\", \"formulas\", \"handles\", \"fill\", \"stroke\", \"shadow\", \"textbox\", \"textpath\", \"imagedata\", \"line\", \"polyline\", \"curve\", \"rect\", \"roundrect\", \"oval\", \"arc\", \"image\"];\n              var ss = doc.createStyleSheet();\n              ss.owningElement.id = jsc._vmlCSS;\n\n              for (var i = 0; i < tags.length; i += 1) {\n                ss.addRule(jsc._vmlNS + \"\\\\:\" + tags[i], \"behavior:url(#default#VML);\");\n              }\n            }\n\n            jsc._vmlReady = true;\n          }\n        },\n        createPalette: function () {\n          var paletteObj = {\n            elm: null,\n            draw: null\n          };\n\n          if (jsc.isCanvasSupported) {\n            // Canvas implementation for modern browsers\n            var canvas = document.createElement(\"canvas\");\n            var ctx = canvas.getContext(\"2d\");\n\n            var drawFunc = function (width, height, type) {\n              canvas.width = width;\n              canvas.height = height;\n              ctx.clearRect(0, 0, canvas.width, canvas.height);\n              var hGrad = ctx.createLinearGradient(0, 0, canvas.width, 0);\n              hGrad.addColorStop(0 / 6, \"#F00\");\n              hGrad.addColorStop(1 / 6, \"#FF0\");\n              hGrad.addColorStop(2 / 6, \"#0F0\");\n              hGrad.addColorStop(3 / 6, \"#0FF\");\n              hGrad.addColorStop(4 / 6, \"#00F\");\n              hGrad.addColorStop(5 / 6, \"#F0F\");\n              hGrad.addColorStop(6 / 6, \"#F00\");\n              ctx.fillStyle = hGrad;\n              ctx.fillRect(0, 0, canvas.width, canvas.height);\n              var vGrad = ctx.createLinearGradient(0, 0, 0, canvas.height);\n\n              switch (type.toLowerCase()) {\n                case \"s\":\n                  vGrad.addColorStop(0, \"rgba(255,255,255,0)\");\n                  vGrad.addColorStop(1, \"rgba(255,255,255,1)\");\n                  break;\n\n                case \"v\":\n                  vGrad.addColorStop(0, \"rgba(0,0,0,0)\");\n                  vGrad.addColorStop(1, \"rgba(0,0,0,1)\");\n                  break;\n              }\n\n              ctx.fillStyle = vGrad;\n              ctx.fillRect(0, 0, canvas.width, canvas.height);\n            };\n\n            paletteObj.elm = canvas;\n            paletteObj.draw = drawFunc;\n          } else {\n            // VML fallback for IE 7 and 8\n            jsc.initVML();\n            var vmlContainer = document.createElement(\"div\");\n            vmlContainer.style.position = \"relative\";\n            vmlContainer.style.overflow = \"hidden\";\n            var hGrad = document.createElement(jsc._vmlNS + \":fill\");\n            hGrad.type = \"gradient\";\n            hGrad.method = \"linear\";\n            hGrad.angle = \"90\";\n            hGrad.colors = \"16.67% #F0F, 33.33% #00F, 50% #0FF, 66.67% #0F0, 83.33% #FF0\";\n            var hRect = document.createElement(jsc._vmlNS + \":rect\");\n            hRect.style.position = \"absolute\";\n            hRect.style.left = -1 + \"px\";\n            hRect.style.top = -1 + \"px\";\n            hRect.stroked = false;\n            hRect.appendChild(hGrad);\n            vmlContainer.appendChild(hRect);\n            var vGrad = document.createElement(jsc._vmlNS + \":fill\");\n            vGrad.type = \"gradient\";\n            vGrad.method = \"linear\";\n            vGrad.angle = \"180\";\n            vGrad.opacity = \"0\";\n            var vRect = document.createElement(jsc._vmlNS + \":rect\");\n            vRect.style.position = \"absolute\";\n            vRect.style.left = -1 + \"px\";\n            vRect.style.top = -1 + \"px\";\n            vRect.stroked = false;\n            vRect.appendChild(vGrad);\n            vmlContainer.appendChild(vRect);\n\n            var drawFunc = function (width, height, type) {\n              vmlContainer.style.width = width + \"px\";\n              vmlContainer.style.height = height + \"px\";\n              hRect.style.width = vRect.style.width = width + 1 + \"px\";\n              hRect.style.height = vRect.style.height = height + 1 + \"px\"; // Colors must be specified during every redraw, otherwise IE won't display\n              // a full gradient during a subsequential redraw\n\n              hGrad.color = \"#F00\";\n              hGrad.color2 = \"#F00\";\n\n              switch (type.toLowerCase()) {\n                case \"s\":\n                  vGrad.color = vGrad.color2 = \"#FFF\";\n                  break;\n\n                case \"v\":\n                  vGrad.color = vGrad.color2 = \"#000\";\n                  break;\n              }\n            };\n\n            paletteObj.elm = vmlContainer;\n            paletteObj.draw = drawFunc;\n          }\n\n          return paletteObj;\n        },\n        createSliderGradient: function () {\n          var sliderObj = {\n            elm: null,\n            draw: null\n          };\n\n          if (jsc.isCanvasSupported) {\n            // Canvas implementation for modern browsers\n            var canvas = document.createElement(\"canvas\");\n            var ctx = canvas.getContext(\"2d\");\n\n            var drawFunc = function (width, height, color1, color2) {\n              canvas.width = width;\n              canvas.height = height;\n              ctx.clearRect(0, 0, canvas.width, canvas.height);\n              var grad = ctx.createLinearGradient(0, 0, 0, canvas.height);\n              grad.addColorStop(0, color1);\n              grad.addColorStop(1, color2);\n              ctx.fillStyle = grad;\n              ctx.fillRect(0, 0, canvas.width, canvas.height);\n            };\n\n            sliderObj.elm = canvas;\n            sliderObj.draw = drawFunc;\n          } else {\n            // VML fallback for IE 7 and 8\n            jsc.initVML();\n            var vmlContainer = document.createElement(\"div\");\n            vmlContainer.style.position = \"relative\";\n            vmlContainer.style.overflow = \"hidden\";\n            var grad = document.createElement(jsc._vmlNS + \":fill\");\n            grad.type = \"gradient\";\n            grad.method = \"linear\";\n            grad.angle = \"180\";\n            var rect = document.createElement(jsc._vmlNS + \":rect\");\n            rect.style.position = \"absolute\";\n            rect.style.left = -1 + \"px\";\n            rect.style.top = -1 + \"px\";\n            rect.stroked = false;\n            rect.appendChild(grad);\n            vmlContainer.appendChild(rect);\n\n            var drawFunc = function (width, height, color1, color2) {\n              vmlContainer.style.width = width + \"px\";\n              vmlContainer.style.height = height + \"px\";\n              rect.style.width = width + 1 + \"px\";\n              rect.style.height = height + 1 + \"px\";\n              grad.color = color1;\n              grad.color2 = color2;\n            };\n\n            sliderObj.elm = vmlContainer;\n            sliderObj.draw = drawFunc;\n          }\n\n          return sliderObj;\n        },\n        leaveValue: 1 << 0,\n        leaveStyle: 1 << 1,\n        leavePad: 1 << 2,\n        leaveSld: 1 << 3,\n        BoxShadow: function () {\n          var BoxShadow = function (hShadow, vShadow, blur, spread, color, inset) {\n            this.hShadow = hShadow;\n            this.vShadow = vShadow;\n            this.blur = blur;\n            this.spread = spread;\n            this.color = color;\n            this.inset = !!inset;\n          };\n\n          BoxShadow.prototype.toString = function () {\n            var vals = [Math.round(this.hShadow) + \"px\", Math.round(this.vShadow) + \"px\", Math.round(this.blur) + \"px\", Math.round(this.spread) + \"px\", this.color];\n\n            if (this.inset) {\n              vals.push(\"inset\");\n            }\n\n            return vals.join(\" \");\n          };\n\n          return BoxShadow;\n        }(),\n        //\n        // Usage:\n        // var myColor = new jscolor(<targetElement> [, <options>])\n        //\n        jscolor: function (targetElement, options) {\n          // General options\n          //\n          this.value = null; // initial HEX color. To change it later, use methods fromString(), fromHSV() and fromRGB()\n\n          this.valueElement = targetElement; // element that will be used to display and input the color code\n\n          this.styleElement = targetElement; // element that will preview the picked color using CSS backgroundColor\n\n          this.required = true; // whether the associated text <input> can be left empty\n\n          this.refine = true; // whether to refine the entered color code (e.g. uppercase it and remove whitespace)\n\n          this.hash = false; // whether to prefix the HEX color code with # symbol\n\n          this.uppercase = true; // whether to show the color code in upper case\n\n          this.onFineChange = null; // called instantly every time the color changes (value can be either a function or a string with javascript code)\n\n          this.activeClass = \"jscolor-active\"; // class to be set to the target element when a picker window is open on it\n\n          this.overwriteImportant = false; // whether to overwrite colors of styleElement using !important\n\n          this.minS = 0; // min allowed saturation (0 - 100)\n\n          this.maxS = 100; // max allowed saturation (0 - 100)\n\n          this.minV = 0; // min allowed value (brightness) (0 - 100)\n\n          this.maxV = 100; // max allowed value (brightness) (0 - 100)\n          // Accessing the picked color\n          //\n\n          this.hsv = [0, 0, 100]; // read-only  [0-360, 0-100, 0-100]\n\n          this.rgb = [255, 255, 255]; // read-only  [0-255, 0-255, 0-255]\n          // Color Picker options\n          //\n\n          this.width = 181; // width of color palette (in px)\n\n          this.height = 101; // height of color palette (in px)\n\n          this.showOnClick = true; // whether to display the color picker when user clicks on its target element\n\n          this.mode = \"HSV\"; // HSV | HVS | HS | HV - layout of the color picker controls\n\n          this.position = \"bottom\"; // left | right | top | bottom - position relative to the target element\n\n          this.smartPosition = true; // automatically change picker position when there is not enough space for it\n\n          this.sliderSize = 16; // px\n\n          this.crossSize = 8; // px\n\n          this.closable = false; // whether to display the Close button\n\n          this.closeText = \"Close\";\n          this.buttonColor = \"#000000\"; // CSS color\n\n          this.buttonHeight = 18; // px\n\n          this.padding = 12; // px\n\n          this.backgroundColor = \"#FFFFFF\"; // CSS color\n\n          this.borderWidth = 1; // px\n\n          this.borderColor = \"#BBBBBB\"; // CSS color\n\n          this.borderRadius = 8; // px\n\n          this.insetWidth = 1; // px\n\n          this.insetColor = \"#BBBBBB\"; // CSS color\n\n          this.shadow = true; // whether to display shadow\n\n          this.shadowBlur = 15; // px\n\n          this.shadowColor = \"rgba(0,0,0,0.2)\"; // CSS color\n\n          this.pointerColor = \"#4C4C4C\"; // px\n\n          this.pointerBorderColor = \"#FFFFFF\"; // px\n\n          this.pointerBorderWidth = 1; // px\n\n          this.pointerThickness = 2; // px\n\n          this.zIndex = 1000;\n          this.container = null; // where to append the color picker (BODY element by default)\n\n          for (var opt in options) {\n            if (options.hasOwnProperty(opt)) {\n              this[opt] = options[opt];\n            }\n          }\n\n          this.hide = function () {\n            if (isPickerOwner()) {\n              detachPicker();\n            }\n          };\n\n          this.show = function () {\n            drawPicker();\n          };\n\n          this.redraw = function () {\n            if (isPickerOwner()) {\n              drawPicker();\n            }\n          };\n\n          this.importColor = function () {\n            if (!this.valueElement) {\n              this.exportColor();\n            } else {\n              if (jsc.isElementType(this.valueElement, \"input\")) {\n                if (!this.refine) {\n                  if (!this.fromString(this.valueElement.value, jsc.leaveValue)) {\n                    if (this.styleElement) {\n                      this.styleElement.style.backgroundImage = this.styleElement._jscOrigStyle.backgroundImage;\n                      this.styleElement.style.backgroundColor = this.styleElement._jscOrigStyle.backgroundColor;\n                      this.styleElement.style.color = this.styleElement._jscOrigStyle.color;\n                    }\n\n                    this.exportColor(jsc.leaveValue | jsc.leaveStyle);\n                  }\n                } else if (!this.required && /^\\s*$/.test(this.valueElement.value)) {\n                  this.valueElement.value = \"\";\n\n                  if (this.styleElement) {\n                    this.styleElement.style.backgroundImage = this.styleElement._jscOrigStyle.backgroundImage;\n                    this.styleElement.style.backgroundColor = this.styleElement._jscOrigStyle.backgroundColor;\n                    this.styleElement.style.color = this.styleElement._jscOrigStyle.color;\n                  }\n\n                  this.exportColor(jsc.leaveValue | jsc.leaveStyle);\n                } else if (this.fromString(this.valueElement.value)) {// managed to import color successfully from the value -> OK, don't do anything\n                } else {\n                  this.exportColor();\n                }\n              } else {\n                // not an input element -> doesn't have any value\n                this.exportColor();\n              }\n            }\n          };\n\n          this.exportColor = function (flags) {\n            if (!(flags & jsc.leaveValue) && this.valueElement) {\n              var value = this.toString();\n\n              if (this.uppercase) {\n                value = value.toUpperCase();\n              }\n\n              if (this.hash) {\n                value = \"#\" + value;\n              }\n\n              if (jsc.isElementType(this.valueElement, \"input\")) {\n                this.valueElement.value = value;\n              } else {\n                this.valueElement.innerHTML = value;\n              }\n            }\n\n            if (!(flags & jsc.leaveStyle)) {\n              if (this.styleElement) {\n                var bgColor = \"#\" + this.toString();\n                var fgColor = this.isLight() ? \"#000\" : \"#FFF\";\n                this.styleElement.style.backgroundImage = \"none\";\n                this.styleElement.style.backgroundColor = bgColor;\n                this.styleElement.style.color = fgColor;\n\n                if (this.overwriteImportant) {\n                  this.styleElement.setAttribute(\"style\", \"background: \" + bgColor + \" !important; \" + \"color: \" + fgColor + \" !important;\");\n                }\n              }\n            }\n\n            if (!(flags & jsc.leavePad) && isPickerOwner()) {\n              redrawPad();\n            }\n\n            if (!(flags & jsc.leaveSld) && isPickerOwner()) {\n              redrawSld();\n            }\n          }; // h: 0-360\n          // s: 0-100\n          // v: 0-100\n          //\n\n\n          this.fromHSV = function (h, s, v, flags) {\n            // null = don't change\n            if (h !== null) {\n              if (isNaN(h)) {\n                return false;\n              }\n\n              h = Math.max(0, Math.min(360, h));\n            }\n\n            if (s !== null) {\n              if (isNaN(s)) {\n                return false;\n              }\n\n              s = Math.max(0, Math.min(100, this.maxS, s), this.minS);\n            }\n\n            if (v !== null) {\n              if (isNaN(v)) {\n                return false;\n              }\n\n              v = Math.max(0, Math.min(100, this.maxV, v), this.minV);\n            }\n\n            this.rgb = HSV_RGB(h === null ? this.hsv[0] : this.hsv[0] = h, s === null ? this.hsv[1] : this.hsv[1] = s, v === null ? this.hsv[2] : this.hsv[2] = v);\n            this.exportColor(flags);\n          }; // r: 0-255\n          // g: 0-255\n          // b: 0-255\n          //\n\n\n          this.fromRGB = function (r, g, b, flags) {\n            // null = don't change\n            if (r !== null) {\n              if (isNaN(r)) {\n                return false;\n              }\n\n              r = Math.max(0, Math.min(255, r));\n            }\n\n            if (g !== null) {\n              if (isNaN(g)) {\n                return false;\n              }\n\n              g = Math.max(0, Math.min(255, g));\n            }\n\n            if (b !== null) {\n              if (isNaN(b)) {\n                return false;\n              }\n\n              b = Math.max(0, Math.min(255, b));\n            }\n\n            var hsv = RGB_HSV(r === null ? this.rgb[0] : r, g === null ? this.rgb[1] : g, b === null ? this.rgb[2] : b);\n\n            if (hsv[0] !== null) {\n              this.hsv[0] = Math.max(0, Math.min(360, hsv[0]));\n            }\n\n            if (hsv[2] !== 0) {\n              this.hsv[1] = hsv[1] === null ? null : Math.max(0, this.minS, Math.min(100, this.maxS, hsv[1]));\n            }\n\n            this.hsv[2] = hsv[2] === null ? null : Math.max(0, this.minV, Math.min(100, this.maxV, hsv[2])); // update RGB according to final HSV, as some values might be trimmed\n\n            var rgb = HSV_RGB(this.hsv[0], this.hsv[1], this.hsv[2]);\n            this.rgb[0] = rgb[0];\n            this.rgb[1] = rgb[1];\n            this.rgb[2] = rgb[2];\n            this.exportColor(flags);\n          };\n\n          this.fromString = function (str, flags) {\n            var m;\n\n            if (m = str.match(/^\\W*([0-9A-F]{3}([0-9A-F]{3})?)\\W*$/i)) {\n              // HEX notation\n              //\n              if (m[1].length === 6) {\n                // 6-char notation\n                this.fromRGB(parseInt(m[1].substr(0, 2), 16), parseInt(m[1].substr(2, 2), 16), parseInt(m[1].substr(4, 2), 16), flags);\n              } else {\n                // 3-char notation\n                this.fromRGB(parseInt(m[1].charAt(0) + m[1].charAt(0), 16), parseInt(m[1].charAt(1) + m[1].charAt(1), 16), parseInt(m[1].charAt(2) + m[1].charAt(2), 16), flags);\n              }\n\n              return true;\n            } else if (m = str.match(/^\\W*rgba?\\(([^)]*)\\)\\W*$/i)) {\n              var params = m[1].split(\",\");\n              var re = /^\\s*(\\d*)(\\.\\d+)?\\s*$/;\n              var mR, mG, mB;\n\n              if (params.length >= 3 && (mR = params[0].match(re)) && (mG = params[1].match(re)) && (mB = params[2].match(re))) {\n                var r = parseFloat((mR[1] || \"0\") + (mR[2] || \"\"));\n                var g = parseFloat((mG[1] || \"0\") + (mG[2] || \"\"));\n                var b = parseFloat((mB[1] || \"0\") + (mB[2] || \"\"));\n                this.fromRGB(r, g, b, flags);\n                return true;\n              }\n            }\n\n            return false;\n          };\n\n          this.toString = function () {\n            return (0x100 | Math.round(this.rgb[0])).toString(16).substr(1) + (0x100 | Math.round(this.rgb[1])).toString(16).substr(1) + (0x100 | Math.round(this.rgb[2])).toString(16).substr(1);\n          };\n\n          this.toHEXString = function () {\n            return \"#\" + this.toString().toUpperCase();\n          };\n\n          this.toRGBString = function () {\n            return \"rgb(\" + Math.round(this.rgb[0]) + \",\" + Math.round(this.rgb[1]) + \",\" + Math.round(this.rgb[2]) + \")\";\n          };\n\n          this.isLight = function () {\n            return 0.213 * this.rgb[0] + 0.715 * this.rgb[1] + 0.072 * this.rgb[2] > 255 / 2;\n          };\n\n          this._processParentElementsInDOM = function () {\n            if (this._linkedElementsProcessed) {\n              return;\n            }\n\n            this._linkedElementsProcessed = true;\n            var elm = this.targetElement;\n\n            do {\n              // If the target element or one of its parent nodes has fixed position,\n              // then use fixed positioning instead\n              //\n              // Note: In Firefox, getComputedStyle returns null in a hidden iframe,\n              // that's why we need to check if the returned style object is non-empty\n              var currStyle = jsc.getStyle(elm);\n\n              if (currStyle && currStyle.position.toLowerCase() === \"fixed\") {\n                this.fixed = true;\n              }\n\n              if (elm !== this.targetElement) {\n                // Ensure to attach onParentScroll only once to each parent element\n                // (multiple targetElements can share the same parent nodes)\n                //\n                // Note: It's not just offsetParents that can be scrollable,\n                // that's why we loop through all parent nodes\n                if (!elm._jscEventsAttached) {\n                  jsc.attachEvent(elm, \"scroll\", jsc.onParentScroll);\n                  elm._jscEventsAttached = true;\n                }\n              }\n            } while ((elm = elm.parentNode) && !jsc.isElementType(elm, \"body\"));\n          }; // r: 0-255\n          // g: 0-255\n          // b: 0-255\n          //\n          // returns: [ 0-360, 0-100, 0-100 ]\n          //\n\n\n          function RGB_HSV(r, g, b) {\n            r /= 255;\n            g /= 255;\n            b /= 255;\n            var n = Math.min(Math.min(r, g), b);\n            var v = Math.max(Math.max(r, g), b);\n            var m = v - n;\n\n            if (m === 0) {\n              return [null, 0, 100 * v];\n            }\n\n            var h = r === n ? 3 + (b - g) / m : g === n ? 5 + (r - b) / m : 1 + (g - r) / m;\n            return [60 * (h === 6 ? 0 : h), 100 * (m / v), 100 * v];\n          } // h: 0-360\n          // s: 0-100\n          // v: 0-100\n          //\n          // returns: [ 0-255, 0-255, 0-255 ]\n          //\n\n\n          function HSV_RGB(h, s, v) {\n            var u = 255 * (v / 100);\n\n            if (h === null) {\n              return [u, u, u];\n            }\n\n            h /= 60;\n            s /= 100;\n            var i = Math.floor(h);\n            var f = i % 2 ? h - i : 1 - (h - i);\n            var m = u * (1 - s);\n            var n = u * (1 - s * f);\n\n            switch (i) {\n              case 6:\n              case 0:\n                return [u, n, m];\n\n              case 1:\n                return [n, u, m];\n\n              case 2:\n                return [m, u, n];\n\n              case 3:\n                return [m, n, u];\n\n              case 4:\n                return [n, m, u];\n\n              case 5:\n                return [u, m, n];\n            }\n          }\n\n          function detachPicker() {\n            jsc.unsetClass(THIS.targetElement, THIS.activeClass);\n            jsc.picker.wrap.parentNode.removeChild(jsc.picker.wrap);\n            delete jsc.picker.owner;\n          }\n\n          function drawPicker() {\n            // At this point, when drawing the picker, we know what the parent elements are\n            // and we can do all related DOM operations, such as registering events on them\n            // or checking their positioning\n            THIS._processParentElementsInDOM();\n\n            if (!jsc.picker) {\n              jsc.picker = {\n                owner: null,\n                wrap: document.createElement(\"div\"),\n                box: document.createElement(\"div\"),\n                boxS: document.createElement(\"div\"),\n                // shadow area\n                boxB: document.createElement(\"div\"),\n                // border\n                pad: document.createElement(\"div\"),\n                padB: document.createElement(\"div\"),\n                // border\n                padM: document.createElement(\"div\"),\n                // mouse/touch area\n                padPal: jsc.createPalette(),\n                cross: document.createElement(\"div\"),\n                crossBY: document.createElement(\"div\"),\n                // border Y\n                crossBX: document.createElement(\"div\"),\n                // border X\n                crossLY: document.createElement(\"div\"),\n                // line Y\n                crossLX: document.createElement(\"div\"),\n                // line X\n                sld: document.createElement(\"div\"),\n                sldB: document.createElement(\"div\"),\n                // border\n                sldM: document.createElement(\"div\"),\n                // mouse/touch area\n                sldGrad: jsc.createSliderGradient(),\n                sldPtrS: document.createElement(\"div\"),\n                // slider pointer spacer\n                sldPtrIB: document.createElement(\"div\"),\n                // slider pointer inner border\n                sldPtrMB: document.createElement(\"div\"),\n                // slider pointer middle border\n                sldPtrOB: document.createElement(\"div\"),\n                // slider pointer outer border\n                btn: document.createElement(\"div\"),\n                btnT: document.createElement(\"span\") // text\n\n              };\n              jsc.picker.pad.appendChild(jsc.picker.padPal.elm);\n              jsc.picker.padB.appendChild(jsc.picker.pad);\n              jsc.picker.cross.appendChild(jsc.picker.crossBY);\n              jsc.picker.cross.appendChild(jsc.picker.crossBX);\n              jsc.picker.cross.appendChild(jsc.picker.crossLY);\n              jsc.picker.cross.appendChild(jsc.picker.crossLX);\n              jsc.picker.padB.appendChild(jsc.picker.cross);\n              jsc.picker.box.appendChild(jsc.picker.padB);\n              jsc.picker.box.appendChild(jsc.picker.padM);\n              jsc.picker.sld.appendChild(jsc.picker.sldGrad.elm);\n              jsc.picker.sldB.appendChild(jsc.picker.sld);\n              jsc.picker.sldB.appendChild(jsc.picker.sldPtrOB);\n              jsc.picker.sldPtrOB.appendChild(jsc.picker.sldPtrMB);\n              jsc.picker.sldPtrMB.appendChild(jsc.picker.sldPtrIB);\n              jsc.picker.sldPtrIB.appendChild(jsc.picker.sldPtrS);\n              jsc.picker.box.appendChild(jsc.picker.sldB);\n              jsc.picker.box.appendChild(jsc.picker.sldM);\n              jsc.picker.btn.appendChild(jsc.picker.btnT);\n              jsc.picker.box.appendChild(jsc.picker.btn);\n              jsc.picker.boxB.appendChild(jsc.picker.box);\n              jsc.picker.wrap.appendChild(jsc.picker.boxS);\n              jsc.picker.wrap.appendChild(jsc.picker.boxB);\n            }\n\n            var p = jsc.picker;\n            var displaySlider = !!jsc.getSliderComponent(THIS);\n            var dims = jsc.getPickerDims(THIS);\n            var crossOuterSize = 2 * THIS.pointerBorderWidth + THIS.pointerThickness + 2 * THIS.crossSize;\n            var padToSliderPadding = jsc.getPadToSliderPadding(THIS);\n            var borderRadius = Math.min(THIS.borderRadius, Math.round(THIS.padding * Math.PI)); // px\n\n            var padCursor = \"crosshair\"; // wrap\n\n            p.wrap.style.clear = \"both\";\n            p.wrap.style.width = dims[0] + 2 * THIS.borderWidth + \"px\";\n            p.wrap.style.height = dims[1] + 2 * THIS.borderWidth + \"px\";\n            p.wrap.style.zIndex = THIS.zIndex; // picker\n\n            p.box.style.width = dims[0] + \"px\";\n            p.box.style.height = dims[1] + \"px\";\n            p.boxS.style.position = \"absolute\";\n            p.boxS.style.left = \"0\";\n            p.boxS.style.top = \"0\";\n            p.boxS.style.width = \"100%\";\n            p.boxS.style.height = \"100%\";\n            jsc.setBorderRadius(p.boxS, borderRadius + \"px\"); // picker border\n\n            p.boxB.style.position = \"relative\";\n            p.boxB.style.border = THIS.borderWidth + \"px solid\";\n            p.boxB.style.borderColor = THIS.borderColor;\n            p.boxB.style.background = THIS.backgroundColor;\n            jsc.setBorderRadius(p.boxB, borderRadius + \"px\"); // IE hack:\n            // If the element is transparent, IE will trigger the event on the elements under it,\n            // e.g. on Canvas or on elements with border\n\n            p.padM.style.background = p.sldM.style.background = \"#FFF\";\n            jsc.setStyle(p.padM, \"opacity\", \"0\");\n            jsc.setStyle(p.sldM, \"opacity\", \"0\"); // pad\n\n            p.pad.style.position = \"relative\";\n            p.pad.style.width = THIS.width + \"px\";\n            p.pad.style.height = THIS.height + \"px\"; // pad palettes (HSV and HVS)\n\n            p.padPal.draw(THIS.width, THIS.height, jsc.getPadYComponent(THIS)); // pad border\n\n            p.padB.style.position = \"absolute\";\n            p.padB.style.left = THIS.padding + \"px\";\n            p.padB.style.top = THIS.padding + \"px\";\n            p.padB.style.border = THIS.insetWidth + \"px solid\";\n            p.padB.style.borderColor = THIS.insetColor; // pad mouse area\n\n            p.padM._jscInstance = THIS;\n            p.padM._jscControlName = \"pad\";\n            p.padM.style.position = \"absolute\";\n            p.padM.style.left = \"0\";\n            p.padM.style.top = \"0\";\n            p.padM.style.width = THIS.padding + 2 * THIS.insetWidth + THIS.width + padToSliderPadding / 2 + \"px\";\n            p.padM.style.height = dims[1] + \"px\";\n            p.padM.style.cursor = padCursor; // pad cross\n\n            p.cross.style.position = \"absolute\";\n            p.cross.style.left = p.cross.style.top = \"0\";\n            p.cross.style.width = p.cross.style.height = crossOuterSize + \"px\"; // pad cross border Y and X\n\n            p.crossBY.style.position = p.crossBX.style.position = \"absolute\";\n            p.crossBY.style.background = p.crossBX.style.background = THIS.pointerBorderColor;\n            p.crossBY.style.width = p.crossBX.style.height = 2 * THIS.pointerBorderWidth + THIS.pointerThickness + \"px\";\n            p.crossBY.style.height = p.crossBX.style.width = crossOuterSize + \"px\";\n            p.crossBY.style.left = p.crossBX.style.top = Math.floor(crossOuterSize / 2) - Math.floor(THIS.pointerThickness / 2) - THIS.pointerBorderWidth + \"px\";\n            p.crossBY.style.top = p.crossBX.style.left = \"0\"; // pad cross line Y and X\n\n            p.crossLY.style.position = p.crossLX.style.position = \"absolute\";\n            p.crossLY.style.background = p.crossLX.style.background = THIS.pointerColor;\n            p.crossLY.style.height = p.crossLX.style.width = crossOuterSize - 2 * THIS.pointerBorderWidth + \"px\";\n            p.crossLY.style.width = p.crossLX.style.height = THIS.pointerThickness + \"px\";\n            p.crossLY.style.left = p.crossLX.style.top = Math.floor(crossOuterSize / 2) - Math.floor(THIS.pointerThickness / 2) + \"px\";\n            p.crossLY.style.top = p.crossLX.style.left = THIS.pointerBorderWidth + \"px\"; // slider\n\n            p.sld.style.overflow = \"hidden\";\n            p.sld.style.width = THIS.sliderSize + \"px\";\n            p.sld.style.height = THIS.height + \"px\"; // slider gradient\n\n            p.sldGrad.draw(THIS.sliderSize, THIS.height, \"#000\", \"#000\"); // slider border\n\n            p.sldB.style.display = displaySlider ? \"block\" : \"none\";\n            p.sldB.style.position = \"absolute\";\n            p.sldB.style.right = THIS.padding + \"px\";\n            p.sldB.style.top = THIS.padding + \"px\";\n            p.sldB.style.border = THIS.insetWidth + \"px solid\";\n            p.sldB.style.borderColor = THIS.insetColor; // slider mouse area\n\n            p.sldM._jscInstance = THIS;\n            p.sldM._jscControlName = \"sld\";\n            p.sldM.style.display = displaySlider ? \"block\" : \"none\";\n            p.sldM.style.position = \"absolute\";\n            p.sldM.style.right = \"0\";\n            p.sldM.style.top = \"0\";\n            p.sldM.style.width = THIS.sliderSize + padToSliderPadding / 2 + THIS.padding + 2 * THIS.insetWidth + \"px\";\n            p.sldM.style.height = dims[1] + \"px\";\n            p.sldM.style.cursor = \"default\"; // slider pointer inner and outer border\n\n            p.sldPtrIB.style.border = p.sldPtrOB.style.border = THIS.pointerBorderWidth + \"px solid \" + THIS.pointerBorderColor; // slider pointer outer border\n\n            p.sldPtrOB.style.position = \"absolute\";\n            p.sldPtrOB.style.left = -(2 * THIS.pointerBorderWidth + THIS.pointerThickness) + \"px\";\n            p.sldPtrOB.style.top = \"0\"; // slider pointer middle border\n\n            p.sldPtrMB.style.border = THIS.pointerThickness + \"px solid \" + THIS.pointerColor; // slider pointer spacer\n\n            p.sldPtrS.style.width = THIS.sliderSize + \"px\";\n            p.sldPtrS.style.height = sliderPtrSpace + \"px\"; // the Close button\n\n            function setBtnBorder() {\n              var insetColors = THIS.insetColor.split(/\\s+/);\n              var outsetColor = insetColors.length < 2 ? insetColors[0] : insetColors[1] + \" \" + insetColors[0] + \" \" + insetColors[0] + \" \" + insetColors[1];\n              p.btn.style.borderColor = outsetColor;\n            }\n\n            p.btn.style.display = THIS.closable ? \"block\" : \"none\";\n            p.btn.style.position = \"absolute\";\n            p.btn.style.left = THIS.padding + \"px\";\n            p.btn.style.bottom = THIS.padding + \"px\";\n            p.btn.style.padding = \"0 15px\";\n            p.btn.style.height = THIS.buttonHeight + \"px\";\n            p.btn.style.border = THIS.insetWidth + \"px solid\";\n            setBtnBorder();\n            p.btn.style.color = THIS.buttonColor;\n            p.btn.style.font = \"12px sans-serif\";\n            p.btn.style.textAlign = \"center\";\n\n            try {\n              p.btn.style.cursor = \"pointer\";\n            } catch (eOldIE) {\n              p.btn.style.cursor = \"hand\";\n            }\n\n            p.btn.onmousedown = function () {\n              THIS.hide();\n            };\n\n            p.btnT.style.lineHeight = THIS.buttonHeight + \"px\";\n            p.btnT.innerHTML = \"\";\n            p.btnT.appendChild(document.createTextNode(THIS.closeText)); // place pointers\n\n            redrawPad();\n            redrawSld(); // If we are changing the owner without first closing the picker,\n            // make sure to first deal with the old owner\n\n            if (jsc.picker.owner && jsc.picker.owner !== THIS) {\n              jsc.unsetClass(jsc.picker.owner.targetElement, THIS.activeClass);\n            } // Set the new picker owner\n\n\n            jsc.picker.owner = THIS; // The redrawPosition() method needs picker.owner to be set, that's why we call it here,\n            // after setting the owner\n\n            if (jsc.isElementType(container, \"body\")) {\n              jsc.redrawPosition();\n            } else {\n              jsc._drawPosition(THIS, 0, 0, \"relative\", false);\n            }\n\n            if (p.wrap.parentNode != container) {\n              container.appendChild(p.wrap);\n            }\n\n            jsc.setClass(THIS.targetElement, THIS.activeClass);\n          }\n\n          function redrawPad() {\n            // redraw the pad pointer\n            switch (jsc.getPadYComponent(THIS)) {\n              case \"s\":\n                var yComponent = 1;\n                break;\n\n              case \"v\":\n                var yComponent = 2;\n                break;\n            }\n\n            var x = Math.round(THIS.hsv[0] / 360 * (THIS.width - 1));\n            var y = Math.round((1 - THIS.hsv[yComponent] / 100) * (THIS.height - 1));\n            var crossOuterSize = 2 * THIS.pointerBorderWidth + THIS.pointerThickness + 2 * THIS.crossSize;\n            var ofs = -Math.floor(crossOuterSize / 2);\n            jsc.picker.cross.style.left = x + ofs + \"px\";\n            jsc.picker.cross.style.top = y + ofs + \"px\"; // redraw the slider\n\n            switch (jsc.getSliderComponent(THIS)) {\n              case \"s\":\n                var rgb1 = HSV_RGB(THIS.hsv[0], 100, THIS.hsv[2]);\n                var rgb2 = HSV_RGB(THIS.hsv[0], 0, THIS.hsv[2]);\n                var color1 = \"rgb(\" + Math.round(rgb1[0]) + \",\" + Math.round(rgb1[1]) + \",\" + Math.round(rgb1[2]) + \")\";\n                var color2 = \"rgb(\" + Math.round(rgb2[0]) + \",\" + Math.round(rgb2[1]) + \",\" + Math.round(rgb2[2]) + \")\";\n                jsc.picker.sldGrad.draw(THIS.sliderSize, THIS.height, color1, color2);\n                break;\n\n              case \"v\":\n                var rgb = HSV_RGB(THIS.hsv[0], THIS.hsv[1], 100);\n                var color1 = \"rgb(\" + Math.round(rgb[0]) + \",\" + Math.round(rgb[1]) + \",\" + Math.round(rgb[2]) + \")\";\n                var color2 = \"#000\";\n                jsc.picker.sldGrad.draw(THIS.sliderSize, THIS.height, color1, color2);\n                break;\n            }\n          }\n\n          function redrawSld() {\n            var sldComponent = jsc.getSliderComponent(THIS);\n\n            if (sldComponent) {\n              // redraw the slider pointer\n              switch (sldComponent) {\n                case \"s\":\n                  var yComponent = 1;\n                  break;\n\n                case \"v\":\n                  var yComponent = 2;\n                  break;\n              }\n\n              var y = Math.round((1 - THIS.hsv[yComponent] / 100) * (THIS.height - 1));\n              jsc.picker.sldPtrOB.style.top = y - (2 * THIS.pointerBorderWidth + THIS.pointerThickness) - Math.floor(sliderPtrSpace / 2) + \"px\";\n            }\n          }\n\n          function isPickerOwner() {\n            return jsc.picker && jsc.picker.owner === THIS;\n          }\n\n          function blurValue() {\n            THIS.importColor();\n          } // Find the target element\n\n\n          if (typeof targetElement === \"string\") {\n            var id = targetElement;\n            var elm = document.getElementById(id);\n\n            if (elm) {\n              this.targetElement = elm;\n            } else {\n              jsc.warn(\"Could not find target element with ID '\" + id + \"'\");\n            }\n          } else if (targetElement) {\n            this.targetElement = targetElement;\n          } else {\n            jsc.warn(\"Invalid target element: '\" + targetElement + \"'\");\n          }\n\n          if (this.targetElement._jscLinkedInstance) {\n            jsc.warn(\"Cannot link jscolor twice to the same element. Skipping.\");\n            return;\n          }\n\n          this.targetElement._jscLinkedInstance = this; // Find the value element\n\n          this.valueElement = jsc.fetchElement(this.valueElement); // Find the style element\n\n          this.styleElement = jsc.fetchElement(this.styleElement);\n          var THIS = this;\n          var container = this.container ? jsc.fetchElement(this.container) : document.getElementsByTagName(\"body\")[0];\n          var sliderPtrSpace = 3; // px\n          // For BUTTON elements it's important to stop them from sending the form when clicked\n          // (e.g. in Safari)\n\n          if (jsc.isElementType(this.targetElement, \"button\")) {\n            if (this.targetElement.onclick) {\n              var origCallback = this.targetElement.onclick;\n\n              this.targetElement.onclick = function (evt) {\n                origCallback.call(this, evt);\n                return false;\n              };\n            } else {\n              this.targetElement.onclick = function () {\n                return false;\n              };\n            }\n          }\n          /*\r\n          var elm = this.targetElement;\r\n          do {\r\n          // If the target element or one of its offsetParents has fixed position,\r\n          // then use fixed positioning instead\r\n          //\r\n          // Note: In Firefox, getComputedStyle returns null in a hidden iframe,\r\n          // that's why we need to check if the returned style object is non-empty\r\n          var currStyle = jsc.getStyle(elm);\r\n          if (currStyle && currStyle.position.toLowerCase() === 'fixed') {\r\n          this.fixed = true;\r\n          }\r\n          if (elm !== this.targetElement) {\r\n          // attach onParentScroll so that we can recompute the picker position\r\n          // when one of the offsetParents is scrolled\r\n          if (!elm._jscEventsAttached) {\r\n          jsc.attachEvent(elm, 'scroll', jsc.onParentScroll);\r\n          elm._jscEventsAttached = true;\r\n          }\r\n          }\r\n          } while ((elm = elm.offsetParent) && !jsc.isElementType(elm, 'body'));\r\n          */\n          // valueElement\n\n\n          if (this.valueElement) {\n            if (jsc.isElementType(this.valueElement, \"input\")) {\n              var updateField = function () {\n                THIS.fromString(THIS.valueElement.value, jsc.leaveValue);\n                jsc.dispatchFineChange(THIS);\n              };\n\n              jsc.attachEvent(this.valueElement, \"keyup\", updateField);\n              jsc.attachEvent(this.valueElement, \"input\", updateField);\n              jsc.attachEvent(this.valueElement, \"blur\", blurValue);\n              this.valueElement.setAttribute(\"autocomplete\", \"off\");\n            }\n          } // styleElement\n\n\n          if (this.styleElement) {\n            this.styleElement._jscOrigStyle = {\n              backgroundImage: this.styleElement.style.backgroundImage,\n              backgroundColor: this.styleElement.style.backgroundColor,\n              color: this.styleElement.style.color\n            };\n          }\n\n          if (this.value) {\n            // Try to set the color from the .value option and if unsuccessful,\n            // export the current color\n            this.fromString(this.value) || this.exportColor();\n          } else {\n            this.importColor();\n          }\n        }\n      }; //================================\n      // Public properties and methods\n      //================================\n      // By default, search for all elements with class=\"jscolor\" and install a color picker on them.\n      //\n      // You can change what class name will be looked for by setting the property jscolor.lookupClass\n      // anywhere in your HTML document. To completely disable the automatic lookup, set it to null.\n      //\n\n      jsc.jscolor.lookupClass = \"jscolor\";\n\n      jsc.jscolor.installByClassName = function (className) {\n        var inputElms = document.getElementsByTagName(\"input\");\n        var buttonElms = document.getElementsByTagName(\"button\");\n        jsc.tryInstallOnElements(inputElms, className);\n        jsc.tryInstallOnElements(buttonElms, className);\n      };\n\n      jsc.register();\n      return jsc.jscolor;\n    }();\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false);\n};\n\n_c = Color;\nexport default Color;\n\nvar _c;\n\n$RefreshReg$(_c, \"Color\");","map":{"version":3,"names":["React","Color","window","jscolor","jsc","register","attachDOMReadyEvent","init","attachEvent","document","onDocumentMouseDown","onDocumentTouchStart","onWindowResize","lookupClass","installByClassName","tryInstallOnElements","elms","className","matchClass","RegExp","i","length","type","undefined","toLowerCase","isColorAttrSupported","m","match","targetElm","optsStr","dataOptions","getDataAttr","opts","Function","eParseError","warn","elm","createElement","setAttribute","isCanvasSupported","getContext","fetchElement","mixed","getElementById","isElementType","nodeName","el","name","attrName","attrValue","getAttribute","evnt","func","addEventListener","detachEvent","removeEventListener","_attachedGroupEvents","attachGroupEvent","groupName","hasOwnProperty","push","detachGroupEvents","evt","fired","fireOnce","readyState","setTimeout","arguments","callee","documentElement","doScroll","top","tryScroll","body","e","msg","console","preventDefault","returnValue","captureTarget","target","setCapture","_capturedTarget","releaseTarget","releaseCapture","fireEvent","createEvent","ev","initEvent","dispatchEvent","createEventObject","classNameToList","replace","split","hasClass","indexOf","setClass","classList","unsetClass","repl","getStyle","getComputedStyle","currentStyle","setStyle","helper","getSupportedProp","names","style","props","borderRadius","boxShadow","prop","value","alphaOpacity","Math","round","parseFloat","opacity","filter","setBorderRadius","setBoxShadow","getElementPos","relativeToViewport","x","y","rect","getBoundingClientRect","left","viewPos","getViewPos","getElementSize","offsetWidth","offsetHeight","getAbsPointerPos","event","changedTouches","clientX","clientY","getRelPointerPos","srcElement","targetRect","doc","pageXOffset","scrollLeft","clientLeft","pageYOffset","scrollTop","clientTop","getViewSize","innerWidth","clientWidth","innerHeight","clientHeight","redrawPosition","picker","owner","thisObj","tp","vp","fixed","targetElement","ts","vs","ps","getPickerOuterDims","a","b","c","position","l","smartPosition","pp","positionValue","contractShadow","_drawPosition","vShadow","shadowBlur","wrap","boxS","shadow","BoxShadow","shadowColor","getPickerDims","displaySlider","getSliderComponent","dims","insetWidth","padding","width","getPadToSliderPadding","sliderSize","height","closable","buttonHeight","borderWidth","max","pointerBorderWidth","pointerThickness","getPadYComponent","mode","charAt","_jscLinkedInstance","showOnClick","show","_jscControlName","onControlPointerStart","hide","onParentScroll","_pointerMoveEvent","mouse","touch","_pointerEndEvent","_pointerOrigin","controlName","pointerType","_jscInstance","registerDragEvents","offset","onDocumentPointerMove","onDocumentPointerEnd","parent","frameElement","ofs","abs","rel","hsv","fromHSV","setPad","setSld","dispatchFineChange","dispatchChange","valueElement","onFineChange","callback","call","ofsX","ofsY","pointerAbs","xVal","yVal","leaveSld","leavePad","_vmlNS","_vmlCSS","_vmlReady","initVML","namespaces","add","styleSheets","tags","ss","createStyleSheet","owningElement","id","addRule","createPalette","paletteObj","draw","canvas","ctx","drawFunc","clearRect","hGrad","createLinearGradient","addColorStop","fillStyle","fillRect","vGrad","vmlContainer","overflow","method","angle","colors","hRect","stroked","appendChild","vRect","color","color2","createSliderGradient","sliderObj","color1","grad","leaveValue","leaveStyle","hShadow","blur","spread","inset","prototype","toString","vals","join","options","styleElement","required","refine","hash","uppercase","activeClass","overwriteImportant","minS","maxS","minV","maxV","rgb","crossSize","closeText","buttonColor","backgroundColor","borderColor","insetColor","pointerColor","pointerBorderColor","zIndex","container","opt","isPickerOwner","detachPicker","drawPicker","redraw","importColor","exportColor","fromString","backgroundImage","_jscOrigStyle","test","flags","toUpperCase","innerHTML","bgColor","fgColor","isLight","redrawPad","redrawSld","h","s","v","isNaN","min","HSV_RGB","fromRGB","r","g","RGB_HSV","str","parseInt","substr","params","re","mR","mG","mB","toHEXString","toRGBString","_processParentElementsInDOM","_linkedElementsProcessed","currStyle","_jscEventsAttached","parentNode","n","u","floor","f","THIS","removeChild","box","boxB","pad","padB","padM","padPal","cross","crossBY","crossBX","crossLY","crossLX","sld","sldB","sldM","sldGrad","sldPtrS","sldPtrIB","sldPtrMB","sldPtrOB","btn","btnT","p","crossOuterSize","padToSliderPadding","PI","padCursor","clear","border","background","cursor","display","right","sliderPtrSpace","setBtnBorder","insetColors","outsetColor","bottom","font","textAlign","eOldIE","onmousedown","lineHeight","createTextNode","yComponent","rgb1","rgb2","sldComponent","blurValue","getElementsByTagName","onclick","origCallback","updateField","inputElms","buttonElms"],"sources":["D:/Mac OS X Projects/7. Mini-Apps/paint-clone-2/src/Color.js"],"sourcesContent":["import React from 'react'\r\n\r\nconst Color = () => {\r\n  /**\r\n   * jscolor - JavaScript Color Picker\r\n   *\r\n   * @link    http://jscolor.com\r\n   * @license For open source use: GPLv3\r\n   *          For commercial use: JSColor Commercial License\r\n   * @author  Jan Odvarko\r\n   * @version 2.0.5\r\n   *\r\n   * See usage examples at http://jscolor.com/examples/\r\n   */\r\n\r\n  (\"use strict\");\r\n\r\n  if (!window.jscolor) {\r\n    window.jscolor = (function () {\r\n      var jsc = {\r\n        register: function () {\r\n          jsc.attachDOMReadyEvent(jsc.init);\r\n          jsc.attachEvent(document, \"mousedown\", jsc.onDocumentMouseDown);\r\n          jsc.attachEvent(document, \"touchstart\", jsc.onDocumentTouchStart);\r\n          jsc.attachEvent(window, \"resize\", jsc.onWindowResize);\r\n        },\r\n\r\n        init: function () {\r\n          if (jsc.jscolor.lookupClass) {\r\n            jsc.jscolor.installByClassName(jsc.jscolor.lookupClass);\r\n          }\r\n        },\r\n\r\n        tryInstallOnElements: function (elms, className) {\r\n          var matchClass = new RegExp(\r\n            \"(^|\\\\s)(\" + className + \")(\\\\s*(\\\\{[^}]*\\\\})|\\\\s|$)\",\r\n            \"i\"\r\n          );\r\n\r\n          for (var i = 0; i < elms.length; i += 1) {\r\n            if (\r\n              elms[i].type !== undefined &&\r\n              elms[i].type.toLowerCase() == \"color\"\r\n            ) {\r\n              if (jsc.isColorAttrSupported) {\r\n                // skip inputs of type 'color' if supported by the browser\r\n                continue;\r\n              }\r\n            }\r\n            var m;\r\n            if (\r\n              !elms[i].jscolor &&\r\n              elms[i].className &&\r\n              (m = elms[i].className.match(matchClass))\r\n            ) {\r\n              var targetElm = elms[i];\r\n              var optsStr = null;\r\n\r\n              var dataOptions = jsc.getDataAttr(targetElm, \"jscolor\");\r\n              if (dataOptions !== null) {\r\n                optsStr = dataOptions;\r\n              } else if (m[4]) {\r\n                optsStr = m[4];\r\n              }\r\n\r\n              var opts = {};\r\n              if (optsStr) {\r\n                try {\r\n                  opts = new Function(\"return (\" + optsStr + \")\")();\r\n                } catch (eParseError) {\r\n                  jsc.warn(\r\n                    \"Error parsing jscolor options: \" +\r\n                      eParseError +\r\n                      \":\\n\" +\r\n                      optsStr\r\n                  );\r\n                }\r\n              }\r\n              targetElm.jscolor = new jsc.jscolor(targetElm, opts);\r\n            }\r\n          }\r\n        },\r\n\r\n        isColorAttrSupported: (function () {\r\n          var elm = document.createElement(\"input\");\r\n          if (elm.setAttribute) {\r\n            elm.setAttribute(\"type\", \"color\");\r\n            if (elm.type.toLowerCase() == \"color\") {\r\n              return true;\r\n            }\r\n          }\r\n          return false;\r\n        })(),\r\n\r\n        isCanvasSupported: (function () {\r\n          var elm = document.createElement(\"canvas\");\r\n          return !!(elm.getContext && elm.getContext(\"2d\"));\r\n        })(),\r\n\r\n        fetchElement: function (mixed) {\r\n          return typeof mixed === \"string\"\r\n            ? document.getElementById(mixed)\r\n            : mixed;\r\n        },\r\n\r\n        isElementType: function (elm, type) {\r\n          return elm.nodeName.toLowerCase() === type.toLowerCase();\r\n        },\r\n\r\n        getDataAttr: function (el, name) {\r\n          var attrName = \"data-\" + name;\r\n          var attrValue = el.getAttribute(attrName);\r\n          if (attrValue !== null) {\r\n            return attrValue;\r\n          }\r\n          return null;\r\n        },\r\n\r\n        attachEvent: function (el, evnt, func) {\r\n          if (el.addEventListener) {\r\n            el.addEventListener(evnt, func, false);\r\n          } else if (el.attachEvent) {\r\n            el.attachEvent(\"on\" + evnt, func);\r\n          }\r\n        },\r\n\r\n        detachEvent: function (el, evnt, func) {\r\n          if (el.removeEventListener) {\r\n            el.removeEventListener(evnt, func, false);\r\n          } else if (el.detachEvent) {\r\n            el.detachEvent(\"on\" + evnt, func);\r\n          }\r\n        },\r\n\r\n        _attachedGroupEvents: {},\r\n\r\n        attachGroupEvent: function (groupName, el, evnt, func) {\r\n          if (!jsc._attachedGroupEvents.hasOwnProperty(groupName)) {\r\n            jsc._attachedGroupEvents[groupName] = [];\r\n          }\r\n          jsc._attachedGroupEvents[groupName].push([el, evnt, func]);\r\n          jsc.attachEvent(el, evnt, func);\r\n        },\r\n\r\n        detachGroupEvents: function (groupName) {\r\n          if (jsc._attachedGroupEvents.hasOwnProperty(groupName)) {\r\n            for (\r\n              var i = 0;\r\n              i < jsc._attachedGroupEvents[groupName].length;\r\n              i += 1\r\n            ) {\r\n              var evt = jsc._attachedGroupEvents[groupName][i];\r\n              jsc.detachEvent(evt[0], evt[1], evt[2]);\r\n            }\r\n            delete jsc._attachedGroupEvents[groupName];\r\n          }\r\n        },\r\n\r\n        attachDOMReadyEvent: function (func) {\r\n          var fired = false;\r\n          var fireOnce = function () {\r\n            if (!fired) {\r\n              fired = true;\r\n              func();\r\n            }\r\n          };\r\n\r\n          if (document.readyState === \"complete\") {\r\n            setTimeout(fireOnce, 1); // async\r\n            return;\r\n          }\r\n\r\n          if (document.addEventListener) {\r\n            document.addEventListener(\"DOMContentLoaded\", fireOnce, false);\r\n\r\n            // Fallback\r\n            window.addEventListener(\"load\", fireOnce, false);\r\n          } else if (document.attachEvent) {\r\n            // IE\r\n            document.attachEvent(\"onreadystatechange\", function () {\r\n              if (document.readyState === \"complete\") {\r\n                document.detachEvent(\"onreadystatechange\", arguments.callee);\r\n                fireOnce();\r\n              }\r\n            });\r\n\r\n            // Fallback\r\n            window.attachEvent(\"onload\", fireOnce);\r\n\r\n            // IE7/8\r\n            if (document.documentElement.doScroll && window == window.top) {\r\n              var tryScroll = function () {\r\n                if (!document.body) {\r\n                  return;\r\n                }\r\n                try {\r\n                  document.documentElement.doScroll(\"left\");\r\n                  fireOnce();\r\n                } catch (e) {\r\n                  setTimeout(tryScroll, 1);\r\n                }\r\n              };\r\n              tryScroll();\r\n            }\r\n          }\r\n        },\r\n\r\n        warn: function (msg) {\r\n          if (window.console && window.console.warn) {\r\n            window.console.warn(msg);\r\n          }\r\n        },\r\n\r\n        preventDefault: function (e) {\r\n          if (e.preventDefault) {\r\n            e.preventDefault();\r\n          }\r\n          e.returnValue = false;\r\n        },\r\n\r\n        captureTarget: function (target) {\r\n          // IE\r\n          if (target.setCapture) {\r\n            jsc._capturedTarget = target;\r\n            jsc._capturedTarget.setCapture();\r\n          }\r\n        },\r\n\r\n        releaseTarget: function () {\r\n          // IE\r\n          if (jsc._capturedTarget) {\r\n            jsc._capturedTarget.releaseCapture();\r\n            jsc._capturedTarget = null;\r\n          }\r\n        },\r\n\r\n        fireEvent: function (el, evnt) {\r\n          if (!el) {\r\n            return;\r\n          }\r\n          if (document.createEvent) {\r\n            var ev = document.createEvent(\"HTMLEvents\");\r\n            ev.initEvent(evnt, true, true);\r\n            el.dispatchEvent(ev);\r\n          } else if (document.createEventObject) {\r\n            var ev = document.createEventObject();\r\n            el.fireEvent(\"on\" + evnt, ev);\r\n          } else if (el[\"on\" + evnt]) {\r\n            // alternatively use the traditional event model\r\n            el[\"on\" + evnt]();\r\n          }\r\n        },\r\n\r\n        classNameToList: function (className) {\r\n          return className.replace(/^\\s+|\\s+$/g, \"\").split(/\\s+/);\r\n        },\r\n\r\n        // The className parameter (str) can only contain a single class name\r\n        hasClass: function (elm, className) {\r\n          if (!className) {\r\n            return false;\r\n          }\r\n          return (\r\n            -1 !=\r\n            (\" \" + elm.className.replace(/\\s+/g, \" \") + \" \").indexOf(\r\n              \" \" + className + \" \"\r\n            )\r\n          );\r\n        },\r\n\r\n        // The className parameter (str) can contain multiple class names separated by whitespace\r\n        setClass: function (elm, className) {\r\n          var classList = jsc.classNameToList(className);\r\n          for (var i = 0; i < classList.length; i += 1) {\r\n            if (!jsc.hasClass(elm, classList[i])) {\r\n              elm.className += (elm.className ? \" \" : \"\") + classList[i];\r\n            }\r\n          }\r\n        },\r\n\r\n        // The className parameter (str) can contain multiple class names separated by whitespace\r\n        unsetClass: function (elm, className) {\r\n          var classList = jsc.classNameToList(className);\r\n          for (var i = 0; i < classList.length; i += 1) {\r\n            var repl = new RegExp(\r\n              \"^\\\\s*\" +\r\n                classList[i] +\r\n                \"\\\\s*|\" +\r\n                \"\\\\s*\" +\r\n                classList[i] +\r\n                \"\\\\s*$|\" +\r\n                \"\\\\s+\" +\r\n                classList[i] +\r\n                \"(\\\\s+)\",\r\n              \"g\"\r\n            );\r\n            elm.className = elm.className.replace(repl, \"$1\");\r\n          }\r\n        },\r\n\r\n        getStyle: function (elm) {\r\n          return window.getComputedStyle\r\n            ? window.getComputedStyle(elm)\r\n            : elm.currentStyle;\r\n        },\r\n\r\n        setStyle: (function () {\r\n          var helper = document.createElement(\"div\");\r\n          var getSupportedProp = function (names) {\r\n            for (var i = 0; i < names.length; i += 1) {\r\n              if (names[i] in helper.style) {\r\n                return names[i];\r\n              }\r\n            }\r\n          };\r\n          var props = {\r\n            borderRadius: getSupportedProp([\r\n              \"borderRadius\",\r\n              \"MozBorderRadius\",\r\n              \"webkitBorderRadius\",\r\n            ]),\r\n            boxShadow: getSupportedProp([\r\n              \"boxShadow\",\r\n              \"MozBoxShadow\",\r\n              \"webkitBoxShadow\",\r\n            ]),\r\n          };\r\n          return function (elm, prop, value) {\r\n            switch (prop.toLowerCase()) {\r\n              case \"opacity\":\r\n                var alphaOpacity = Math.round(parseFloat(value) * 100);\r\n                elm.style.opacity = value;\r\n                elm.style.filter = \"alpha(opacity=\" + alphaOpacity + \")\";\r\n                break;\r\n              default:\r\n                elm.style[props[prop]] = value;\r\n                break;\r\n            }\r\n          };\r\n        })(),\r\n\r\n        setBorderRadius: function (elm, value) {\r\n          jsc.setStyle(elm, \"borderRadius\", value || \"0\");\r\n        },\r\n\r\n        setBoxShadow: function (elm, value) {\r\n          jsc.setStyle(elm, \"boxShadow\", value || \"none\");\r\n        },\r\n\r\n        getElementPos: function (e, relativeToViewport) {\r\n          var x = 0,\r\n            y = 0;\r\n          var rect = e.getBoundingClientRect();\r\n          x = rect.left;\r\n          y = rect.top;\r\n          if (!relativeToViewport) {\r\n            var viewPos = jsc.getViewPos();\r\n            x += viewPos[0];\r\n            y += viewPos[1];\r\n          }\r\n          return [x, y];\r\n        },\r\n\r\n        getElementSize: function (e) {\r\n          return [e.offsetWidth, e.offsetHeight];\r\n        },\r\n\r\n        // get pointer's X/Y coordinates relative to viewport\r\n        getAbsPointerPos: function (e) {\r\n          if (!e) {\r\n            e = window.event;\r\n          }\r\n          var x = 0,\r\n            y = 0;\r\n          if (\r\n            typeof e.changedTouches !== \"undefined\" &&\r\n            e.changedTouches.length\r\n          ) {\r\n            // touch devices\r\n            x = e.changedTouches[0].clientX;\r\n            y = e.changedTouches[0].clientY;\r\n          } else if (typeof e.clientX === \"number\") {\r\n            x = e.clientX;\r\n            y = e.clientY;\r\n          }\r\n          return { x: x, y: y };\r\n        },\r\n\r\n        // get pointer's X/Y coordinates relative to target element\r\n        getRelPointerPos: function (e) {\r\n          if (!e) {\r\n            e = window.event;\r\n          }\r\n          var target = e.target || e.srcElement;\r\n          var targetRect = target.getBoundingClientRect();\r\n\r\n          var x = 0,\r\n            y = 0;\r\n\r\n          var clientX = 0,\r\n            clientY = 0;\r\n          if (\r\n            typeof e.changedTouches !== \"undefined\" &&\r\n            e.changedTouches.length\r\n          ) {\r\n            // touch devices\r\n            clientX = e.changedTouches[0].clientX;\r\n            clientY = e.changedTouches[0].clientY;\r\n          } else if (typeof e.clientX === \"number\") {\r\n            clientX = e.clientX;\r\n            clientY = e.clientY;\r\n          }\r\n\r\n          x = clientX - targetRect.left;\r\n          y = clientY - targetRect.top;\r\n          return { x: x, y: y };\r\n        },\r\n\r\n        getViewPos: function () {\r\n          var doc = document.documentElement;\r\n          return [\r\n            (window.pageXOffset || doc.scrollLeft) - (doc.clientLeft || 0),\r\n            (window.pageYOffset || doc.scrollTop) - (doc.clientTop || 0),\r\n          ];\r\n        },\r\n\r\n        getViewSize: function () {\r\n          var doc = document.documentElement;\r\n          return [\r\n            window.innerWidth || doc.clientWidth,\r\n            window.innerHeight || doc.clientHeight,\r\n          ];\r\n        },\r\n\r\n        redrawPosition: function () {\r\n          if (jsc.picker && jsc.picker.owner) {\r\n            var thisObj = jsc.picker.owner;\r\n\r\n            var tp, vp;\r\n\r\n            if (thisObj.fixed) {\r\n              // Fixed elements are positioned relative to viewport,\r\n              // therefore we can ignore the scroll offset\r\n              tp = jsc.getElementPos(thisObj.targetElement, true); // target pos\r\n              vp = [0, 0]; // view pos\r\n            } else {\r\n              tp = jsc.getElementPos(thisObj.targetElement); // target pos\r\n              vp = jsc.getViewPos(); // view pos\r\n            }\r\n\r\n            var ts = jsc.getElementSize(thisObj.targetElement); // target size\r\n            var vs = jsc.getViewSize(); // view size\r\n            var ps = jsc.getPickerOuterDims(thisObj); // picker size\r\n            var a, b, c;\r\n            switch (thisObj.position.toLowerCase()) {\r\n              case \"left\":\r\n                a = 1;\r\n                b = 0;\r\n                c = -1;\r\n                break;\r\n              case \"right\":\r\n                a = 1;\r\n                b = 0;\r\n                c = 1;\r\n                break;\r\n              case \"top\":\r\n                a = 0;\r\n                b = 1;\r\n                c = -1;\r\n                break;\r\n              default:\r\n                a = 0;\r\n                b = 1;\r\n                c = 1;\r\n                break;\r\n            }\r\n            var l = (ts[b] + ps[b]) / 2;\r\n\r\n            // compute picker position\r\n            if (!thisObj.smartPosition) {\r\n              var pp = [tp[a], tp[b] + ts[b] - l + l * c];\r\n            } else {\r\n              var pp = [\r\n                -vp[a] + tp[a] + ps[a] > vs[a]\r\n                  ? -vp[a] + tp[a] + ts[a] / 2 > vs[a] / 2 &&\r\n                    tp[a] + ts[a] - ps[a] >= 0\r\n                    ? tp[a] + ts[a] - ps[a]\r\n                    : tp[a]\r\n                  : tp[a],\r\n                -vp[b] + tp[b] + ts[b] + ps[b] - l + l * c > vs[b]\r\n                  ? -vp[b] + tp[b] + ts[b] / 2 > vs[b] / 2 &&\r\n                    tp[b] + ts[b] - l - l * c >= 0\r\n                    ? tp[b] + ts[b] - l - l * c\r\n                    : tp[b] + ts[b] - l + l * c\r\n                  : tp[b] + ts[b] - l + l * c >= 0\r\n                  ? tp[b] + ts[b] - l + l * c\r\n                  : tp[b] + ts[b] - l - l * c,\r\n              ];\r\n            }\r\n\r\n            var x = pp[a];\r\n            var y = pp[b];\r\n            var positionValue = thisObj.fixed ? \"fixed\" : \"absolute\";\r\n            var contractShadow =\r\n              (pp[0] + ps[0] > tp[0] || pp[0] < tp[0] + ts[0]) &&\r\n              pp[1] + ps[1] < tp[1] + ts[1];\r\n\r\n            jsc._drawPosition(thisObj, x, y, positionValue, contractShadow);\r\n          }\r\n        },\r\n\r\n        _drawPosition: function (thisObj, x, y, positionValue, contractShadow) {\r\n          var vShadow = contractShadow ? 0 : thisObj.shadowBlur; // px\r\n\r\n          jsc.picker.wrap.style.position = positionValue;\r\n          jsc.picker.wrap.style.left = x + \"px\";\r\n          jsc.picker.wrap.style.top = y + \"px\";\r\n\r\n          jsc.setBoxShadow(\r\n            jsc.picker.boxS,\r\n            thisObj.shadow\r\n              ? new jsc.BoxShadow(\r\n                  0,\r\n                  vShadow,\r\n                  thisObj.shadowBlur,\r\n                  0,\r\n                  thisObj.shadowColor\r\n                )\r\n              : null\r\n          );\r\n        },\r\n\r\n        getPickerDims: function (thisObj) {\r\n          var displaySlider = !!jsc.getSliderComponent(thisObj);\r\n          var dims = [\r\n            2 * thisObj.insetWidth +\r\n              2 * thisObj.padding +\r\n              thisObj.width +\r\n              (displaySlider\r\n                ? 2 * thisObj.insetWidth +\r\n                  jsc.getPadToSliderPadding(thisObj) +\r\n                  thisObj.sliderSize\r\n                : 0),\r\n            2 * thisObj.insetWidth +\r\n              2 * thisObj.padding +\r\n              thisObj.height +\r\n              (thisObj.closable\r\n                ? 2 * thisObj.insetWidth +\r\n                  thisObj.padding +\r\n                  thisObj.buttonHeight\r\n                : 0),\r\n          ];\r\n          return dims;\r\n        },\r\n\r\n        getPickerOuterDims: function (thisObj) {\r\n          var dims = jsc.getPickerDims(thisObj);\r\n          return [\r\n            dims[0] + 2 * thisObj.borderWidth,\r\n            dims[1] + 2 * thisObj.borderWidth,\r\n          ];\r\n        },\r\n\r\n        getPadToSliderPadding: function (thisObj) {\r\n          return Math.max(\r\n            thisObj.padding,\r\n            1.5 * (2 * thisObj.pointerBorderWidth + thisObj.pointerThickness)\r\n          );\r\n        },\r\n\r\n        getPadYComponent: function (thisObj) {\r\n          switch (thisObj.mode.charAt(1).toLowerCase()) {\r\n            case \"v\":\r\n              return \"v\";\r\n              break;\r\n          }\r\n          return \"s\";\r\n        },\r\n\r\n        getSliderComponent: function (thisObj) {\r\n          if (thisObj.mode.length > 2) {\r\n            switch (thisObj.mode.charAt(2).toLowerCase()) {\r\n              case \"s\":\r\n                return \"s\";\r\n                break;\r\n              case \"v\":\r\n                return \"v\";\r\n                break;\r\n            }\r\n          }\r\n          return null;\r\n        },\r\n\r\n        onDocumentMouseDown: function (e) {\r\n          if (!e) {\r\n            e = window.event;\r\n          }\r\n          var target = e.target || e.srcElement;\r\n\r\n          if (target._jscLinkedInstance) {\r\n            if (target._jscLinkedInstance.showOnClick) {\r\n              target._jscLinkedInstance.show();\r\n            }\r\n          } else if (target._jscControlName) {\r\n            jsc.onControlPointerStart(\r\n              e,\r\n              target,\r\n              target._jscControlName,\r\n              \"mouse\"\r\n            );\r\n          } else {\r\n            // Mouse is outside the picker controls -> hide the color picker!\r\n            if (jsc.picker && jsc.picker.owner) {\r\n              jsc.picker.owner.hide();\r\n            }\r\n          }\r\n        },\r\n\r\n        onDocumentTouchStart: function (e) {\r\n          if (!e) {\r\n            e = window.event;\r\n          }\r\n          var target = e.target || e.srcElement;\r\n\r\n          if (target._jscLinkedInstance) {\r\n            if (target._jscLinkedInstance.showOnClick) {\r\n              target._jscLinkedInstance.show();\r\n            }\r\n          } else if (target._jscControlName) {\r\n            jsc.onControlPointerStart(\r\n              e,\r\n              target,\r\n              target._jscControlName,\r\n              \"touch\"\r\n            );\r\n          } else {\r\n            if (jsc.picker && jsc.picker.owner) {\r\n              jsc.picker.owner.hide();\r\n            }\r\n          }\r\n        },\r\n\r\n        onWindowResize: function (e) {\r\n          jsc.redrawPosition();\r\n        },\r\n\r\n        onParentScroll: function (e) {\r\n          // hide the picker when one of the parent elements is scrolled\r\n          if (jsc.picker && jsc.picker.owner) {\r\n            jsc.picker.owner.hide();\r\n          }\r\n        },\r\n\r\n        _pointerMoveEvent: {\r\n          mouse: \"mousemove\",\r\n          touch: \"touchmove\",\r\n        },\r\n        _pointerEndEvent: {\r\n          mouse: \"mouseup\",\r\n          touch: \"touchend\",\r\n        },\r\n\r\n        _pointerOrigin: null,\r\n        _capturedTarget: null,\r\n\r\n        onControlPointerStart: function (e, target, controlName, pointerType) {\r\n          var thisObj = target._jscInstance;\r\n\r\n          jsc.preventDefault(e);\r\n          jsc.captureTarget(target);\r\n\r\n          var registerDragEvents = function (doc, offset) {\r\n            jsc.attachGroupEvent(\r\n              \"drag\",\r\n              doc,\r\n              jsc._pointerMoveEvent[pointerType],\r\n              jsc.onDocumentPointerMove(\r\n                e,\r\n                target,\r\n                controlName,\r\n                pointerType,\r\n                offset\r\n              )\r\n            );\r\n            jsc.attachGroupEvent(\r\n              \"drag\",\r\n              doc,\r\n              jsc._pointerEndEvent[pointerType],\r\n              jsc.onDocumentPointerEnd(e, target, controlName, pointerType)\r\n            );\r\n          };\r\n\r\n          registerDragEvents(document, [0, 0]);\r\n\r\n          if (window.parent && window.frameElement) {\r\n            var rect = window.frameElement.getBoundingClientRect();\r\n            var ofs = [-rect.left, -rect.top];\r\n            registerDragEvents(window.parent.window.document, ofs);\r\n          }\r\n\r\n          var abs = jsc.getAbsPointerPos(e);\r\n          var rel = jsc.getRelPointerPos(e);\r\n          jsc._pointerOrigin = {\r\n            x: abs.x - rel.x,\r\n            y: abs.y - rel.y,\r\n          };\r\n\r\n          switch (controlName) {\r\n            case \"pad\":\r\n              // if the slider is at the bottom, move it up\r\n              switch (jsc.getSliderComponent(thisObj)) {\r\n                case \"s\":\r\n                  if (thisObj.hsv[1] === 0) {\r\n                    thisObj.fromHSV(null, 100, null);\r\n                  }\r\n                  break;\r\n                case \"v\":\r\n                  if (thisObj.hsv[2] === 0) {\r\n                    thisObj.fromHSV(null, null, 100);\r\n                  }\r\n                  break;\r\n              }\r\n              jsc.setPad(thisObj, e, 0, 0);\r\n              break;\r\n\r\n            case \"sld\":\r\n              jsc.setSld(thisObj, e, 0);\r\n              break;\r\n          }\r\n\r\n          jsc.dispatchFineChange(thisObj);\r\n        },\r\n\r\n        onDocumentPointerMove: function (\r\n          e,\r\n          target,\r\n          controlName,\r\n          pointerType,\r\n          offset\r\n        ) {\r\n          return function (e) {\r\n            var thisObj = target._jscInstance;\r\n            switch (controlName) {\r\n              case \"pad\":\r\n                if (!e) {\r\n                  e = window.event;\r\n                }\r\n                jsc.setPad(thisObj, e, offset[0], offset[1]);\r\n                jsc.dispatchFineChange(thisObj);\r\n                break;\r\n\r\n              case \"sld\":\r\n                if (!e) {\r\n                  e = window.event;\r\n                }\r\n                jsc.setSld(thisObj, e, offset[1]);\r\n                jsc.dispatchFineChange(thisObj);\r\n                break;\r\n            }\r\n          };\r\n        },\r\n\r\n        onDocumentPointerEnd: function (e, target, controlName, pointerType) {\r\n          return function (e) {\r\n            var thisObj = target._jscInstance;\r\n            jsc.detachGroupEvents(\"drag\");\r\n            jsc.releaseTarget();\r\n            // Always dispatch changes after detaching outstanding mouse handlers,\r\n            // in case some user interaction will occur in user's onchange callback\r\n            // that would intrude with current mouse events\r\n            jsc.dispatchChange(thisObj);\r\n          };\r\n        },\r\n\r\n        dispatchChange: function (thisObj) {\r\n          if (thisObj.valueElement) {\r\n            if (jsc.isElementType(thisObj.valueElement, \"input\")) {\r\n              jsc.fireEvent(thisObj.valueElement, \"change\");\r\n            }\r\n          }\r\n        },\r\n\r\n        dispatchFineChange: function (thisObj) {\r\n          if (thisObj.onFineChange) {\r\n            var callback;\r\n            if (typeof thisObj.onFineChange === \"string\") {\r\n              callback = new Function(thisObj.onFineChange);\r\n            } else {\r\n              callback = thisObj.onFineChange;\r\n            }\r\n            callback.call(thisObj);\r\n          }\r\n        },\r\n\r\n        setPad: function (thisObj, e, ofsX, ofsY) {\r\n          var pointerAbs = jsc.getAbsPointerPos(e);\r\n          var x =\r\n            ofsX +\r\n            pointerAbs.x -\r\n            jsc._pointerOrigin.x -\r\n            thisObj.padding -\r\n            thisObj.insetWidth;\r\n          var y =\r\n            ofsY +\r\n            pointerAbs.y -\r\n            jsc._pointerOrigin.y -\r\n            thisObj.padding -\r\n            thisObj.insetWidth;\r\n\r\n          var xVal = x * (360 / (thisObj.width - 1));\r\n          var yVal = 100 - y * (100 / (thisObj.height - 1));\r\n\r\n          switch (jsc.getPadYComponent(thisObj)) {\r\n            case \"s\":\r\n              thisObj.fromHSV(xVal, yVal, null, jsc.leaveSld);\r\n              break;\r\n            case \"v\":\r\n              thisObj.fromHSV(xVal, null, yVal, jsc.leaveSld);\r\n              break;\r\n          }\r\n        },\r\n\r\n        setSld: function (thisObj, e, ofsY) {\r\n          var pointerAbs = jsc.getAbsPointerPos(e);\r\n          var y =\r\n            ofsY +\r\n            pointerAbs.y -\r\n            jsc._pointerOrigin.y -\r\n            thisObj.padding -\r\n            thisObj.insetWidth;\r\n\r\n          var yVal = 100 - y * (100 / (thisObj.height - 1));\r\n\r\n          switch (jsc.getSliderComponent(thisObj)) {\r\n            case \"s\":\r\n              thisObj.fromHSV(null, yVal, null, jsc.leavePad);\r\n              break;\r\n            case \"v\":\r\n              thisObj.fromHSV(null, null, yVal, jsc.leavePad);\r\n              break;\r\n          }\r\n        },\r\n\r\n        _vmlNS: \"jsc_vml_\",\r\n        _vmlCSS: \"jsc_vml_css_\",\r\n        _vmlReady: false,\r\n\r\n        initVML: function () {\r\n          if (!jsc._vmlReady) {\r\n            // init VML namespace\r\n            var doc = document;\r\n            if (!doc.namespaces[jsc._vmlNS]) {\r\n              doc.namespaces.add(jsc._vmlNS, \"urn:schemas-microsoft-com:vml\");\r\n            }\r\n            if (!doc.styleSheets[jsc._vmlCSS]) {\r\n              var tags = [\r\n                \"shape\",\r\n                \"shapetype\",\r\n                \"group\",\r\n                \"background\",\r\n                \"path\",\r\n                \"formulas\",\r\n                \"handles\",\r\n                \"fill\",\r\n                \"stroke\",\r\n                \"shadow\",\r\n                \"textbox\",\r\n                \"textpath\",\r\n                \"imagedata\",\r\n                \"line\",\r\n                \"polyline\",\r\n                \"curve\",\r\n                \"rect\",\r\n                \"roundrect\",\r\n                \"oval\",\r\n                \"arc\",\r\n                \"image\",\r\n              ];\r\n              var ss = doc.createStyleSheet();\r\n              ss.owningElement.id = jsc._vmlCSS;\r\n              for (var i = 0; i < tags.length; i += 1) {\r\n                ss.addRule(\r\n                  jsc._vmlNS + \"\\\\:\" + tags[i],\r\n                  \"behavior:url(#default#VML);\"\r\n                );\r\n              }\r\n            }\r\n            jsc._vmlReady = true;\r\n          }\r\n        },\r\n\r\n        createPalette: function () {\r\n          var paletteObj = {\r\n            elm: null,\r\n            draw: null,\r\n          };\r\n\r\n          if (jsc.isCanvasSupported) {\r\n            // Canvas implementation for modern browsers\r\n\r\n            var canvas = document.createElement(\"canvas\");\r\n            var ctx = canvas.getContext(\"2d\");\r\n\r\n            var drawFunc = function (width, height, type) {\r\n              canvas.width = width;\r\n              canvas.height = height;\r\n\r\n              ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n\r\n              var hGrad = ctx.createLinearGradient(0, 0, canvas.width, 0);\r\n              hGrad.addColorStop(0 / 6, \"#F00\");\r\n              hGrad.addColorStop(1 / 6, \"#FF0\");\r\n              hGrad.addColorStop(2 / 6, \"#0F0\");\r\n              hGrad.addColorStop(3 / 6, \"#0FF\");\r\n              hGrad.addColorStop(4 / 6, \"#00F\");\r\n              hGrad.addColorStop(5 / 6, \"#F0F\");\r\n              hGrad.addColorStop(6 / 6, \"#F00\");\r\n\r\n              ctx.fillStyle = hGrad;\r\n              ctx.fillRect(0, 0, canvas.width, canvas.height);\r\n\r\n              var vGrad = ctx.createLinearGradient(0, 0, 0, canvas.height);\r\n              switch (type.toLowerCase()) {\r\n                case \"s\":\r\n                  vGrad.addColorStop(0, \"rgba(255,255,255,0)\");\r\n                  vGrad.addColorStop(1, \"rgba(255,255,255,1)\");\r\n                  break;\r\n                case \"v\":\r\n                  vGrad.addColorStop(0, \"rgba(0,0,0,0)\");\r\n                  vGrad.addColorStop(1, \"rgba(0,0,0,1)\");\r\n                  break;\r\n              }\r\n              ctx.fillStyle = vGrad;\r\n              ctx.fillRect(0, 0, canvas.width, canvas.height);\r\n            };\r\n\r\n            paletteObj.elm = canvas;\r\n            paletteObj.draw = drawFunc;\r\n          } else {\r\n            // VML fallback for IE 7 and 8\r\n\r\n            jsc.initVML();\r\n\r\n            var vmlContainer = document.createElement(\"div\");\r\n            vmlContainer.style.position = \"relative\";\r\n            vmlContainer.style.overflow = \"hidden\";\r\n\r\n            var hGrad = document.createElement(jsc._vmlNS + \":fill\");\r\n            hGrad.type = \"gradient\";\r\n            hGrad.method = \"linear\";\r\n            hGrad.angle = \"90\";\r\n            hGrad.colors =\r\n              \"16.67% #F0F, 33.33% #00F, 50% #0FF, 66.67% #0F0, 83.33% #FF0\";\r\n\r\n            var hRect = document.createElement(jsc._vmlNS + \":rect\");\r\n            hRect.style.position = \"absolute\";\r\n            hRect.style.left = -1 + \"px\";\r\n            hRect.style.top = -1 + \"px\";\r\n            hRect.stroked = false;\r\n            hRect.appendChild(hGrad);\r\n            vmlContainer.appendChild(hRect);\r\n\r\n            var vGrad = document.createElement(jsc._vmlNS + \":fill\");\r\n            vGrad.type = \"gradient\";\r\n            vGrad.method = \"linear\";\r\n            vGrad.angle = \"180\";\r\n            vGrad.opacity = \"0\";\r\n\r\n            var vRect = document.createElement(jsc._vmlNS + \":rect\");\r\n            vRect.style.position = \"absolute\";\r\n            vRect.style.left = -1 + \"px\";\r\n            vRect.style.top = -1 + \"px\";\r\n            vRect.stroked = false;\r\n            vRect.appendChild(vGrad);\r\n            vmlContainer.appendChild(vRect);\r\n\r\n            var drawFunc = function (width, height, type) {\r\n              vmlContainer.style.width = width + \"px\";\r\n              vmlContainer.style.height = height + \"px\";\r\n\r\n              hRect.style.width = vRect.style.width = width + 1 + \"px\";\r\n              hRect.style.height = vRect.style.height = height + 1 + \"px\";\r\n\r\n              // Colors must be specified during every redraw, otherwise IE won't display\r\n              // a full gradient during a subsequential redraw\r\n              hGrad.color = \"#F00\";\r\n              hGrad.color2 = \"#F00\";\r\n\r\n              switch (type.toLowerCase()) {\r\n                case \"s\":\r\n                  vGrad.color = vGrad.color2 = \"#FFF\";\r\n                  break;\r\n                case \"v\":\r\n                  vGrad.color = vGrad.color2 = \"#000\";\r\n                  break;\r\n              }\r\n            };\r\n\r\n            paletteObj.elm = vmlContainer;\r\n            paletteObj.draw = drawFunc;\r\n          }\r\n\r\n          return paletteObj;\r\n        },\r\n\r\n        createSliderGradient: function () {\r\n          var sliderObj = {\r\n            elm: null,\r\n            draw: null,\r\n          };\r\n\r\n          if (jsc.isCanvasSupported) {\r\n            // Canvas implementation for modern browsers\r\n\r\n            var canvas = document.createElement(\"canvas\");\r\n            var ctx = canvas.getContext(\"2d\");\r\n\r\n            var drawFunc = function (width, height, color1, color2) {\r\n              canvas.width = width;\r\n              canvas.height = height;\r\n\r\n              ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n\r\n              var grad = ctx.createLinearGradient(0, 0, 0, canvas.height);\r\n              grad.addColorStop(0, color1);\r\n              grad.addColorStop(1, color2);\r\n\r\n              ctx.fillStyle = grad;\r\n              ctx.fillRect(0, 0, canvas.width, canvas.height);\r\n            };\r\n\r\n            sliderObj.elm = canvas;\r\n            sliderObj.draw = drawFunc;\r\n          } else {\r\n            // VML fallback for IE 7 and 8\r\n\r\n            jsc.initVML();\r\n\r\n            var vmlContainer = document.createElement(\"div\");\r\n            vmlContainer.style.position = \"relative\";\r\n            vmlContainer.style.overflow = \"hidden\";\r\n\r\n            var grad = document.createElement(jsc._vmlNS + \":fill\");\r\n            grad.type = \"gradient\";\r\n            grad.method = \"linear\";\r\n            grad.angle = \"180\";\r\n\r\n            var rect = document.createElement(jsc._vmlNS + \":rect\");\r\n            rect.style.position = \"absolute\";\r\n            rect.style.left = -1 + \"px\";\r\n            rect.style.top = -1 + \"px\";\r\n            rect.stroked = false;\r\n            rect.appendChild(grad);\r\n            vmlContainer.appendChild(rect);\r\n\r\n            var drawFunc = function (width, height, color1, color2) {\r\n              vmlContainer.style.width = width + \"px\";\r\n              vmlContainer.style.height = height + \"px\";\r\n\r\n              rect.style.width = width + 1 + \"px\";\r\n              rect.style.height = height + 1 + \"px\";\r\n\r\n              grad.color = color1;\r\n              grad.color2 = color2;\r\n            };\r\n\r\n            sliderObj.elm = vmlContainer;\r\n            sliderObj.draw = drawFunc;\r\n          }\r\n\r\n          return sliderObj;\r\n        },\r\n\r\n        leaveValue: 1 << 0,\r\n        leaveStyle: 1 << 1,\r\n        leavePad: 1 << 2,\r\n        leaveSld: 1 << 3,\r\n\r\n        BoxShadow: (function () {\r\n          var BoxShadow = function (\r\n            hShadow,\r\n            vShadow,\r\n            blur,\r\n            spread,\r\n            color,\r\n            inset\r\n          ) {\r\n            this.hShadow = hShadow;\r\n            this.vShadow = vShadow;\r\n            this.blur = blur;\r\n            this.spread = spread;\r\n            this.color = color;\r\n            this.inset = !!inset;\r\n          };\r\n\r\n          BoxShadow.prototype.toString = function () {\r\n            var vals = [\r\n              Math.round(this.hShadow) + \"px\",\r\n              Math.round(this.vShadow) + \"px\",\r\n              Math.round(this.blur) + \"px\",\r\n              Math.round(this.spread) + \"px\",\r\n              this.color,\r\n            ];\r\n            if (this.inset) {\r\n              vals.push(\"inset\");\r\n            }\r\n            return vals.join(\" \");\r\n          };\r\n\r\n          return BoxShadow;\r\n        })(),\r\n\r\n        //\r\n        // Usage:\r\n        // var myColor = new jscolor(<targetElement> [, <options>])\r\n        //\r\n\r\n        jscolor: function (targetElement, options) {\r\n          // General options\r\n          //\r\n          this.value = null; // initial HEX color. To change it later, use methods fromString(), fromHSV() and fromRGB()\r\n          this.valueElement = targetElement; // element that will be used to display and input the color code\r\n          this.styleElement = targetElement; // element that will preview the picked color using CSS backgroundColor\r\n          this.required = true; // whether the associated text <input> can be left empty\r\n          this.refine = true; // whether to refine the entered color code (e.g. uppercase it and remove whitespace)\r\n          this.hash = false; // whether to prefix the HEX color code with # symbol\r\n          this.uppercase = true; // whether to show the color code in upper case\r\n          this.onFineChange = null; // called instantly every time the color changes (value can be either a function or a string with javascript code)\r\n          this.activeClass = \"jscolor-active\"; // class to be set to the target element when a picker window is open on it\r\n          this.overwriteImportant = false; // whether to overwrite colors of styleElement using !important\r\n          this.minS = 0; // min allowed saturation (0 - 100)\r\n          this.maxS = 100; // max allowed saturation (0 - 100)\r\n          this.minV = 0; // min allowed value (brightness) (0 - 100)\r\n          this.maxV = 100; // max allowed value (brightness) (0 - 100)\r\n\r\n          // Accessing the picked color\r\n          //\r\n          this.hsv = [0, 0, 100]; // read-only  [0-360, 0-100, 0-100]\r\n          this.rgb = [255, 255, 255]; // read-only  [0-255, 0-255, 0-255]\r\n\r\n          // Color Picker options\r\n          //\r\n          this.width = 181; // width of color palette (in px)\r\n          this.height = 101; // height of color palette (in px)\r\n          this.showOnClick = true; // whether to display the color picker when user clicks on its target element\r\n          this.mode = \"HSV\"; // HSV | HVS | HS | HV - layout of the color picker controls\r\n          this.position = \"bottom\"; // left | right | top | bottom - position relative to the target element\r\n          this.smartPosition = true; // automatically change picker position when there is not enough space for it\r\n          this.sliderSize = 16; // px\r\n          this.crossSize = 8; // px\r\n          this.closable = false; // whether to display the Close button\r\n          this.closeText = \"Close\";\r\n          this.buttonColor = \"#000000\"; // CSS color\r\n          this.buttonHeight = 18; // px\r\n          this.padding = 12; // px\r\n          this.backgroundColor = \"#FFFFFF\"; // CSS color\r\n          this.borderWidth = 1; // px\r\n          this.borderColor = \"#BBBBBB\"; // CSS color\r\n          this.borderRadius = 8; // px\r\n          this.insetWidth = 1; // px\r\n          this.insetColor = \"#BBBBBB\"; // CSS color\r\n          this.shadow = true; // whether to display shadow\r\n          this.shadowBlur = 15; // px\r\n          this.shadowColor = \"rgba(0,0,0,0.2)\"; // CSS color\r\n          this.pointerColor = \"#4C4C4C\"; // px\r\n          this.pointerBorderColor = \"#FFFFFF\"; // px\r\n          this.pointerBorderWidth = 1; // px\r\n          this.pointerThickness = 2; // px\r\n          this.zIndex = 1000;\r\n          this.container = null; // where to append the color picker (BODY element by default)\r\n\r\n          for (var opt in options) {\r\n            if (options.hasOwnProperty(opt)) {\r\n              this[opt] = options[opt];\r\n            }\r\n          }\r\n\r\n          this.hide = function () {\r\n            if (isPickerOwner()) {\r\n              detachPicker();\r\n            }\r\n          };\r\n\r\n          this.show = function () {\r\n            drawPicker();\r\n          };\r\n\r\n          this.redraw = function () {\r\n            if (isPickerOwner()) {\r\n              drawPicker();\r\n            }\r\n          };\r\n\r\n          this.importColor = function () {\r\n            if (!this.valueElement) {\r\n              this.exportColor();\r\n            } else {\r\n              if (jsc.isElementType(this.valueElement, \"input\")) {\r\n                if (!this.refine) {\r\n                  if (\r\n                    !this.fromString(this.valueElement.value, jsc.leaveValue)\r\n                  ) {\r\n                    if (this.styleElement) {\r\n                      this.styleElement.style.backgroundImage =\r\n                        this.styleElement._jscOrigStyle.backgroundImage;\r\n                      this.styleElement.style.backgroundColor =\r\n                        this.styleElement._jscOrigStyle.backgroundColor;\r\n                      this.styleElement.style.color =\r\n                        this.styleElement._jscOrigStyle.color;\r\n                    }\r\n                    this.exportColor(jsc.leaveValue | jsc.leaveStyle);\r\n                  }\r\n                } else if (\r\n                  !this.required &&\r\n                  /^\\s*$/.test(this.valueElement.value)\r\n                ) {\r\n                  this.valueElement.value = \"\";\r\n                  if (this.styleElement) {\r\n                    this.styleElement.style.backgroundImage =\r\n                      this.styleElement._jscOrigStyle.backgroundImage;\r\n                    this.styleElement.style.backgroundColor =\r\n                      this.styleElement._jscOrigStyle.backgroundColor;\r\n                    this.styleElement.style.color =\r\n                      this.styleElement._jscOrigStyle.color;\r\n                  }\r\n                  this.exportColor(jsc.leaveValue | jsc.leaveStyle);\r\n                } else if (this.fromString(this.valueElement.value)) {\r\n                  // managed to import color successfully from the value -> OK, don't do anything\r\n                } else {\r\n                  this.exportColor();\r\n                }\r\n              } else {\r\n                // not an input element -> doesn't have any value\r\n                this.exportColor();\r\n              }\r\n            }\r\n          };\r\n\r\n          this.exportColor = function (flags) {\r\n            if (!(flags & jsc.leaveValue) && this.valueElement) {\r\n              var value = this.toString();\r\n              if (this.uppercase) {\r\n                value = value.toUpperCase();\r\n              }\r\n              if (this.hash) {\r\n                value = \"#\" + value;\r\n              }\r\n\r\n              if (jsc.isElementType(this.valueElement, \"input\")) {\r\n                this.valueElement.value = value;\r\n              } else {\r\n                this.valueElement.innerHTML = value;\r\n              }\r\n            }\r\n            if (!(flags & jsc.leaveStyle)) {\r\n              if (this.styleElement) {\r\n                var bgColor = \"#\" + this.toString();\r\n                var fgColor = this.isLight() ? \"#000\" : \"#FFF\";\r\n\r\n                this.styleElement.style.backgroundImage = \"none\";\r\n                this.styleElement.style.backgroundColor = bgColor;\r\n                this.styleElement.style.color = fgColor;\r\n\r\n                if (this.overwriteImportant) {\r\n                  this.styleElement.setAttribute(\r\n                    \"style\",\r\n                    \"background: \" +\r\n                      bgColor +\r\n                      \" !important; \" +\r\n                      \"color: \" +\r\n                      fgColor +\r\n                      \" !important;\"\r\n                  );\r\n                }\r\n              }\r\n            }\r\n            if (!(flags & jsc.leavePad) && isPickerOwner()) {\r\n              redrawPad();\r\n            }\r\n            if (!(flags & jsc.leaveSld) && isPickerOwner()) {\r\n              redrawSld();\r\n            }\r\n          };\r\n\r\n          // h: 0-360\r\n          // s: 0-100\r\n          // v: 0-100\r\n          //\r\n          this.fromHSV = function (h, s, v, flags) {\r\n            // null = don't change\r\n            if (h !== null) {\r\n              if (isNaN(h)) {\r\n                return false;\r\n              }\r\n              h = Math.max(0, Math.min(360, h));\r\n            }\r\n            if (s !== null) {\r\n              if (isNaN(s)) {\r\n                return false;\r\n              }\r\n              s = Math.max(0, Math.min(100, this.maxS, s), this.minS);\r\n            }\r\n            if (v !== null) {\r\n              if (isNaN(v)) {\r\n                return false;\r\n              }\r\n              v = Math.max(0, Math.min(100, this.maxV, v), this.minV);\r\n            }\r\n\r\n            this.rgb = HSV_RGB(\r\n              h === null ? this.hsv[0] : (this.hsv[0] = h),\r\n              s === null ? this.hsv[1] : (this.hsv[1] = s),\r\n              v === null ? this.hsv[2] : (this.hsv[2] = v)\r\n            );\r\n\r\n            this.exportColor(flags);\r\n          };\r\n\r\n          // r: 0-255\r\n          // g: 0-255\r\n          // b: 0-255\r\n          //\r\n          this.fromRGB = function (r, g, b, flags) {\r\n            // null = don't change\r\n            if (r !== null) {\r\n              if (isNaN(r)) {\r\n                return false;\r\n              }\r\n              r = Math.max(0, Math.min(255, r));\r\n            }\r\n            if (g !== null) {\r\n              if (isNaN(g)) {\r\n                return false;\r\n              }\r\n              g = Math.max(0, Math.min(255, g));\r\n            }\r\n            if (b !== null) {\r\n              if (isNaN(b)) {\r\n                return false;\r\n              }\r\n              b = Math.max(0, Math.min(255, b));\r\n            }\r\n\r\n            var hsv = RGB_HSV(\r\n              r === null ? this.rgb[0] : r,\r\n              g === null ? this.rgb[1] : g,\r\n              b === null ? this.rgb[2] : b\r\n            );\r\n            if (hsv[0] !== null) {\r\n              this.hsv[0] = Math.max(0, Math.min(360, hsv[0]));\r\n            }\r\n            if (hsv[2] !== 0) {\r\n              this.hsv[1] =\r\n                hsv[1] === null\r\n                  ? null\r\n                  : Math.max(0, this.minS, Math.min(100, this.maxS, hsv[1]));\r\n            }\r\n            this.hsv[2] =\r\n              hsv[2] === null\r\n                ? null\r\n                : Math.max(0, this.minV, Math.min(100, this.maxV, hsv[2]));\r\n\r\n            // update RGB according to final HSV, as some values might be trimmed\r\n            var rgb = HSV_RGB(this.hsv[0], this.hsv[1], this.hsv[2]);\r\n            this.rgb[0] = rgb[0];\r\n            this.rgb[1] = rgb[1];\r\n            this.rgb[2] = rgb[2];\r\n\r\n            this.exportColor(flags);\r\n          };\r\n\r\n          this.fromString = function (str, flags) {\r\n            var m;\r\n            if ((m = str.match(/^\\W*([0-9A-F]{3}([0-9A-F]{3})?)\\W*$/i))) {\r\n              // HEX notation\r\n              //\r\n\r\n              if (m[1].length === 6) {\r\n                // 6-char notation\r\n                this.fromRGB(\r\n                  parseInt(m[1].substr(0, 2), 16),\r\n                  parseInt(m[1].substr(2, 2), 16),\r\n                  parseInt(m[1].substr(4, 2), 16),\r\n                  flags\r\n                );\r\n              } else {\r\n                // 3-char notation\r\n                this.fromRGB(\r\n                  parseInt(m[1].charAt(0) + m[1].charAt(0), 16),\r\n                  parseInt(m[1].charAt(1) + m[1].charAt(1), 16),\r\n                  parseInt(m[1].charAt(2) + m[1].charAt(2), 16),\r\n                  flags\r\n                );\r\n              }\r\n              return true;\r\n            } else if ((m = str.match(/^\\W*rgba?\\(([^)]*)\\)\\W*$/i))) {\r\n              var params = m[1].split(\",\");\r\n              var re = /^\\s*(\\d*)(\\.\\d+)?\\s*$/;\r\n              var mR, mG, mB;\r\n              if (\r\n                params.length >= 3 &&\r\n                (mR = params[0].match(re)) &&\r\n                (mG = params[1].match(re)) &&\r\n                (mB = params[2].match(re))\r\n              ) {\r\n                var r = parseFloat((mR[1] || \"0\") + (mR[2] || \"\"));\r\n                var g = parseFloat((mG[1] || \"0\") + (mG[2] || \"\"));\r\n                var b = parseFloat((mB[1] || \"0\") + (mB[2] || \"\"));\r\n                this.fromRGB(r, g, b, flags);\r\n                return true;\r\n              }\r\n            }\r\n            return false;\r\n          };\r\n\r\n          this.toString = function () {\r\n            return (\r\n              (0x100 | Math.round(this.rgb[0])).toString(16).substr(1) +\r\n              (0x100 | Math.round(this.rgb[1])).toString(16).substr(1) +\r\n              (0x100 | Math.round(this.rgb[2])).toString(16).substr(1)\r\n            );\r\n          };\r\n\r\n          this.toHEXString = function () {\r\n            return \"#\" + this.toString().toUpperCase();\r\n          };\r\n\r\n          this.toRGBString = function () {\r\n            return (\r\n              \"rgb(\" +\r\n              Math.round(this.rgb[0]) +\r\n              \",\" +\r\n              Math.round(this.rgb[1]) +\r\n              \",\" +\r\n              Math.round(this.rgb[2]) +\r\n              \")\"\r\n            );\r\n          };\r\n\r\n          this.isLight = function () {\r\n            return (\r\n              0.213 * this.rgb[0] + 0.715 * this.rgb[1] + 0.072 * this.rgb[2] >\r\n              255 / 2\r\n            );\r\n          };\r\n\r\n          this._processParentElementsInDOM = function () {\r\n            if (this._linkedElementsProcessed) {\r\n              return;\r\n            }\r\n            this._linkedElementsProcessed = true;\r\n\r\n            var elm = this.targetElement;\r\n            do {\r\n              // If the target element or one of its parent nodes has fixed position,\r\n              // then use fixed positioning instead\r\n              //\r\n              // Note: In Firefox, getComputedStyle returns null in a hidden iframe,\r\n              // that's why we need to check if the returned style object is non-empty\r\n              var currStyle = jsc.getStyle(elm);\r\n              if (currStyle && currStyle.position.toLowerCase() === \"fixed\") {\r\n                this.fixed = true;\r\n              }\r\n\r\n              if (elm !== this.targetElement) {\r\n                // Ensure to attach onParentScroll only once to each parent element\r\n                // (multiple targetElements can share the same parent nodes)\r\n                //\r\n                // Note: It's not just offsetParents that can be scrollable,\r\n                // that's why we loop through all parent nodes\r\n                if (!elm._jscEventsAttached) {\r\n                  jsc.attachEvent(elm, \"scroll\", jsc.onParentScroll);\r\n                  elm._jscEventsAttached = true;\r\n                }\r\n              }\r\n            } while ((elm = elm.parentNode) && !jsc.isElementType(elm, \"body\"));\r\n          };\r\n\r\n          // r: 0-255\r\n          // g: 0-255\r\n          // b: 0-255\r\n          //\r\n          // returns: [ 0-360, 0-100, 0-100 ]\r\n          //\r\n          function RGB_HSV(r, g, b) {\r\n            r /= 255;\r\n            g /= 255;\r\n            b /= 255;\r\n            var n = Math.min(Math.min(r, g), b);\r\n            var v = Math.max(Math.max(r, g), b);\r\n            var m = v - n;\r\n            if (m === 0) {\r\n              return [null, 0, 100 * v];\r\n            }\r\n            var h =\r\n              r === n\r\n                ? 3 + (b - g) / m\r\n                : g === n\r\n                ? 5 + (r - b) / m\r\n                : 1 + (g - r) / m;\r\n            return [60 * (h === 6 ? 0 : h), 100 * (m / v), 100 * v];\r\n          }\r\n\r\n          // h: 0-360\r\n          // s: 0-100\r\n          // v: 0-100\r\n          //\r\n          // returns: [ 0-255, 0-255, 0-255 ]\r\n          //\r\n          function HSV_RGB(h, s, v) {\r\n            var u = 255 * (v / 100);\r\n\r\n            if (h === null) {\r\n              return [u, u, u];\r\n            }\r\n\r\n            h /= 60;\r\n            s /= 100;\r\n\r\n            var i = Math.floor(h);\r\n            var f = i % 2 ? h - i : 1 - (h - i);\r\n            var m = u * (1 - s);\r\n            var n = u * (1 - s * f);\r\n            switch (i) {\r\n              case 6:\r\n              case 0:\r\n                return [u, n, m];\r\n              case 1:\r\n                return [n, u, m];\r\n              case 2:\r\n                return [m, u, n];\r\n              case 3:\r\n                return [m, n, u];\r\n              case 4:\r\n                return [n, m, u];\r\n              case 5:\r\n                return [u, m, n];\r\n            }\r\n          }\r\n\r\n          function detachPicker() {\r\n            jsc.unsetClass(THIS.targetElement, THIS.activeClass);\r\n            jsc.picker.wrap.parentNode.removeChild(jsc.picker.wrap);\r\n            delete jsc.picker.owner;\r\n          }\r\n\r\n          function drawPicker() {\r\n            // At this point, when drawing the picker, we know what the parent elements are\r\n            // and we can do all related DOM operations, such as registering events on them\r\n            // or checking their positioning\r\n            THIS._processParentElementsInDOM();\r\n\r\n            if (!jsc.picker) {\r\n              jsc.picker = {\r\n                owner: null,\r\n                wrap: document.createElement(\"div\"),\r\n                box: document.createElement(\"div\"),\r\n                boxS: document.createElement(\"div\"), // shadow area\r\n                boxB: document.createElement(\"div\"), // border\r\n                pad: document.createElement(\"div\"),\r\n                padB: document.createElement(\"div\"), // border\r\n                padM: document.createElement(\"div\"), // mouse/touch area\r\n                padPal: jsc.createPalette(),\r\n                cross: document.createElement(\"div\"),\r\n                crossBY: document.createElement(\"div\"), // border Y\r\n                crossBX: document.createElement(\"div\"), // border X\r\n                crossLY: document.createElement(\"div\"), // line Y\r\n                crossLX: document.createElement(\"div\"), // line X\r\n                sld: document.createElement(\"div\"),\r\n                sldB: document.createElement(\"div\"), // border\r\n                sldM: document.createElement(\"div\"), // mouse/touch area\r\n                sldGrad: jsc.createSliderGradient(),\r\n                sldPtrS: document.createElement(\"div\"), // slider pointer spacer\r\n                sldPtrIB: document.createElement(\"div\"), // slider pointer inner border\r\n                sldPtrMB: document.createElement(\"div\"), // slider pointer middle border\r\n                sldPtrOB: document.createElement(\"div\"), // slider pointer outer border\r\n                btn: document.createElement(\"div\"),\r\n                btnT: document.createElement(\"span\"), // text\r\n              };\r\n\r\n              jsc.picker.pad.appendChild(jsc.picker.padPal.elm);\r\n              jsc.picker.padB.appendChild(jsc.picker.pad);\r\n              jsc.picker.cross.appendChild(jsc.picker.crossBY);\r\n              jsc.picker.cross.appendChild(jsc.picker.crossBX);\r\n              jsc.picker.cross.appendChild(jsc.picker.crossLY);\r\n              jsc.picker.cross.appendChild(jsc.picker.crossLX);\r\n              jsc.picker.padB.appendChild(jsc.picker.cross);\r\n              jsc.picker.box.appendChild(jsc.picker.padB);\r\n              jsc.picker.box.appendChild(jsc.picker.padM);\r\n\r\n              jsc.picker.sld.appendChild(jsc.picker.sldGrad.elm);\r\n              jsc.picker.sldB.appendChild(jsc.picker.sld);\r\n              jsc.picker.sldB.appendChild(jsc.picker.sldPtrOB);\r\n              jsc.picker.sldPtrOB.appendChild(jsc.picker.sldPtrMB);\r\n              jsc.picker.sldPtrMB.appendChild(jsc.picker.sldPtrIB);\r\n              jsc.picker.sldPtrIB.appendChild(jsc.picker.sldPtrS);\r\n              jsc.picker.box.appendChild(jsc.picker.sldB);\r\n              jsc.picker.box.appendChild(jsc.picker.sldM);\r\n\r\n              jsc.picker.btn.appendChild(jsc.picker.btnT);\r\n              jsc.picker.box.appendChild(jsc.picker.btn);\r\n\r\n              jsc.picker.boxB.appendChild(jsc.picker.box);\r\n              jsc.picker.wrap.appendChild(jsc.picker.boxS);\r\n              jsc.picker.wrap.appendChild(jsc.picker.boxB);\r\n            }\r\n\r\n            var p = jsc.picker;\r\n\r\n            var displaySlider = !!jsc.getSliderComponent(THIS);\r\n            var dims = jsc.getPickerDims(THIS);\r\n            var crossOuterSize =\r\n              2 * THIS.pointerBorderWidth +\r\n              THIS.pointerThickness +\r\n              2 * THIS.crossSize;\r\n            var padToSliderPadding = jsc.getPadToSliderPadding(THIS);\r\n            var borderRadius = Math.min(\r\n              THIS.borderRadius,\r\n              Math.round(THIS.padding * Math.PI)\r\n            ); // px\r\n            var padCursor = \"crosshair\";\r\n\r\n            // wrap\r\n            p.wrap.style.clear = \"both\";\r\n            p.wrap.style.width = dims[0] + 2 * THIS.borderWidth + \"px\";\r\n            p.wrap.style.height = dims[1] + 2 * THIS.borderWidth + \"px\";\r\n            p.wrap.style.zIndex = THIS.zIndex;\r\n\r\n            // picker\r\n            p.box.style.width = dims[0] + \"px\";\r\n            p.box.style.height = dims[1] + \"px\";\r\n\r\n            p.boxS.style.position = \"absolute\";\r\n            p.boxS.style.left = \"0\";\r\n            p.boxS.style.top = \"0\";\r\n            p.boxS.style.width = \"100%\";\r\n            p.boxS.style.height = \"100%\";\r\n            jsc.setBorderRadius(p.boxS, borderRadius + \"px\");\r\n\r\n            // picker border\r\n            p.boxB.style.position = \"relative\";\r\n            p.boxB.style.border = THIS.borderWidth + \"px solid\";\r\n            p.boxB.style.borderColor = THIS.borderColor;\r\n            p.boxB.style.background = THIS.backgroundColor;\r\n            jsc.setBorderRadius(p.boxB, borderRadius + \"px\");\r\n\r\n            // IE hack:\r\n            // If the element is transparent, IE will trigger the event on the elements under it,\r\n            // e.g. on Canvas or on elements with border\r\n            p.padM.style.background = p.sldM.style.background = \"#FFF\";\r\n            jsc.setStyle(p.padM, \"opacity\", \"0\");\r\n            jsc.setStyle(p.sldM, \"opacity\", \"0\");\r\n\r\n            // pad\r\n            p.pad.style.position = \"relative\";\r\n            p.pad.style.width = THIS.width + \"px\";\r\n            p.pad.style.height = THIS.height + \"px\";\r\n\r\n            // pad palettes (HSV and HVS)\r\n            p.padPal.draw(THIS.width, THIS.height, jsc.getPadYComponent(THIS));\r\n\r\n            // pad border\r\n            p.padB.style.position = \"absolute\";\r\n            p.padB.style.left = THIS.padding + \"px\";\r\n            p.padB.style.top = THIS.padding + \"px\";\r\n            p.padB.style.border = THIS.insetWidth + \"px solid\";\r\n            p.padB.style.borderColor = THIS.insetColor;\r\n\r\n            // pad mouse area\r\n            p.padM._jscInstance = THIS;\r\n            p.padM._jscControlName = \"pad\";\r\n            p.padM.style.position = \"absolute\";\r\n            p.padM.style.left = \"0\";\r\n            p.padM.style.top = \"0\";\r\n            p.padM.style.width =\r\n              THIS.padding +\r\n              2 * THIS.insetWidth +\r\n              THIS.width +\r\n              padToSliderPadding / 2 +\r\n              \"px\";\r\n            p.padM.style.height = dims[1] + \"px\";\r\n            p.padM.style.cursor = padCursor;\r\n\r\n            // pad cross\r\n            p.cross.style.position = \"absolute\";\r\n            p.cross.style.left = p.cross.style.top = \"0\";\r\n            p.cross.style.width = p.cross.style.height = crossOuterSize + \"px\";\r\n\r\n            // pad cross border Y and X\r\n            p.crossBY.style.position = p.crossBX.style.position = \"absolute\";\r\n            p.crossBY.style.background = p.crossBX.style.background =\r\n              THIS.pointerBorderColor;\r\n            p.crossBY.style.width = p.crossBX.style.height =\r\n              2 * THIS.pointerBorderWidth + THIS.pointerThickness + \"px\";\r\n            p.crossBY.style.height = p.crossBX.style.width =\r\n              crossOuterSize + \"px\";\r\n            p.crossBY.style.left = p.crossBX.style.top =\r\n              Math.floor(crossOuterSize / 2) -\r\n              Math.floor(THIS.pointerThickness / 2) -\r\n              THIS.pointerBorderWidth +\r\n              \"px\";\r\n            p.crossBY.style.top = p.crossBX.style.left = \"0\";\r\n\r\n            // pad cross line Y and X\r\n            p.crossLY.style.position = p.crossLX.style.position = \"absolute\";\r\n            p.crossLY.style.background = p.crossLX.style.background =\r\n              THIS.pointerColor;\r\n            p.crossLY.style.height = p.crossLX.style.width =\r\n              crossOuterSize - 2 * THIS.pointerBorderWidth + \"px\";\r\n            p.crossLY.style.width = p.crossLX.style.height =\r\n              THIS.pointerThickness + \"px\";\r\n            p.crossLY.style.left = p.crossLX.style.top =\r\n              Math.floor(crossOuterSize / 2) -\r\n              Math.floor(THIS.pointerThickness / 2) +\r\n              \"px\";\r\n            p.crossLY.style.top = p.crossLX.style.left =\r\n              THIS.pointerBorderWidth + \"px\";\r\n\r\n            // slider\r\n            p.sld.style.overflow = \"hidden\";\r\n            p.sld.style.width = THIS.sliderSize + \"px\";\r\n            p.sld.style.height = THIS.height + \"px\";\r\n\r\n            // slider gradient\r\n            p.sldGrad.draw(THIS.sliderSize, THIS.height, \"#000\", \"#000\");\r\n\r\n            // slider border\r\n            p.sldB.style.display = displaySlider ? \"block\" : \"none\";\r\n            p.sldB.style.position = \"absolute\";\r\n            p.sldB.style.right = THIS.padding + \"px\";\r\n            p.sldB.style.top = THIS.padding + \"px\";\r\n            p.sldB.style.border = THIS.insetWidth + \"px solid\";\r\n            p.sldB.style.borderColor = THIS.insetColor;\r\n\r\n            // slider mouse area\r\n            p.sldM._jscInstance = THIS;\r\n            p.sldM._jscControlName = \"sld\";\r\n            p.sldM.style.display = displaySlider ? \"block\" : \"none\";\r\n            p.sldM.style.position = \"absolute\";\r\n            p.sldM.style.right = \"0\";\r\n            p.sldM.style.top = \"0\";\r\n            p.sldM.style.width =\r\n              THIS.sliderSize +\r\n              padToSliderPadding / 2 +\r\n              THIS.padding +\r\n              2 * THIS.insetWidth +\r\n              \"px\";\r\n            p.sldM.style.height = dims[1] + \"px\";\r\n            p.sldM.style.cursor = \"default\";\r\n\r\n            // slider pointer inner and outer border\r\n            p.sldPtrIB.style.border = p.sldPtrOB.style.border =\r\n              THIS.pointerBorderWidth + \"px solid \" + THIS.pointerBorderColor;\r\n\r\n            // slider pointer outer border\r\n            p.sldPtrOB.style.position = \"absolute\";\r\n            p.sldPtrOB.style.left =\r\n              -(2 * THIS.pointerBorderWidth + THIS.pointerThickness) + \"px\";\r\n            p.sldPtrOB.style.top = \"0\";\r\n\r\n            // slider pointer middle border\r\n            p.sldPtrMB.style.border =\r\n              THIS.pointerThickness + \"px solid \" + THIS.pointerColor;\r\n\r\n            // slider pointer spacer\r\n            p.sldPtrS.style.width = THIS.sliderSize + \"px\";\r\n            p.sldPtrS.style.height = sliderPtrSpace + \"px\";\r\n\r\n            // the Close button\r\n            function setBtnBorder() {\r\n              var insetColors = THIS.insetColor.split(/\\s+/);\r\n              var outsetColor =\r\n                insetColors.length < 2\r\n                  ? insetColors[0]\r\n                  : insetColors[1] +\r\n                    \" \" +\r\n                    insetColors[0] +\r\n                    \" \" +\r\n                    insetColors[0] +\r\n                    \" \" +\r\n                    insetColors[1];\r\n              p.btn.style.borderColor = outsetColor;\r\n            }\r\n            p.btn.style.display = THIS.closable ? \"block\" : \"none\";\r\n            p.btn.style.position = \"absolute\";\r\n            p.btn.style.left = THIS.padding + \"px\";\r\n            p.btn.style.bottom = THIS.padding + \"px\";\r\n            p.btn.style.padding = \"0 15px\";\r\n            p.btn.style.height = THIS.buttonHeight + \"px\";\r\n            p.btn.style.border = THIS.insetWidth + \"px solid\";\r\n            setBtnBorder();\r\n            p.btn.style.color = THIS.buttonColor;\r\n            p.btn.style.font = \"12px sans-serif\";\r\n            p.btn.style.textAlign = \"center\";\r\n            try {\r\n              p.btn.style.cursor = \"pointer\";\r\n            } catch (eOldIE) {\r\n              p.btn.style.cursor = \"hand\";\r\n            }\r\n            p.btn.onmousedown = function () {\r\n              THIS.hide();\r\n            };\r\n            p.btnT.style.lineHeight = THIS.buttonHeight + \"px\";\r\n            p.btnT.innerHTML = \"\";\r\n            p.btnT.appendChild(document.createTextNode(THIS.closeText));\r\n\r\n            // place pointers\r\n            redrawPad();\r\n            redrawSld();\r\n\r\n            // If we are changing the owner without first closing the picker,\r\n            // make sure to first deal with the old owner\r\n            if (jsc.picker.owner && jsc.picker.owner !== THIS) {\r\n              jsc.unsetClass(jsc.picker.owner.targetElement, THIS.activeClass);\r\n            }\r\n\r\n            // Set the new picker owner\r\n            jsc.picker.owner = THIS;\r\n\r\n            // The redrawPosition() method needs picker.owner to be set, that's why we call it here,\r\n            // after setting the owner\r\n            if (jsc.isElementType(container, \"body\")) {\r\n              jsc.redrawPosition();\r\n            } else {\r\n              jsc._drawPosition(THIS, 0, 0, \"relative\", false);\r\n            }\r\n\r\n            if (p.wrap.parentNode != container) {\r\n              container.appendChild(p.wrap);\r\n            }\r\n\r\n            jsc.setClass(THIS.targetElement, THIS.activeClass);\r\n          }\r\n\r\n          function redrawPad() {\r\n            // redraw the pad pointer\r\n            switch (jsc.getPadYComponent(THIS)) {\r\n              case \"s\":\r\n                var yComponent = 1;\r\n                break;\r\n              case \"v\":\r\n                var yComponent = 2;\r\n                break;\r\n            }\r\n            var x = Math.round((THIS.hsv[0] / 360) * (THIS.width - 1));\r\n            var y = Math.round(\r\n              (1 - THIS.hsv[yComponent] / 100) * (THIS.height - 1)\r\n            );\r\n            var crossOuterSize =\r\n              2 * THIS.pointerBorderWidth +\r\n              THIS.pointerThickness +\r\n              2 * THIS.crossSize;\r\n            var ofs = -Math.floor(crossOuterSize / 2);\r\n            jsc.picker.cross.style.left = x + ofs + \"px\";\r\n            jsc.picker.cross.style.top = y + ofs + \"px\";\r\n\r\n            // redraw the slider\r\n            switch (jsc.getSliderComponent(THIS)) {\r\n              case \"s\":\r\n                var rgb1 = HSV_RGB(THIS.hsv[0], 100, THIS.hsv[2]);\r\n                var rgb2 = HSV_RGB(THIS.hsv[0], 0, THIS.hsv[2]);\r\n                var color1 =\r\n                  \"rgb(\" +\r\n                  Math.round(rgb1[0]) +\r\n                  \",\" +\r\n                  Math.round(rgb1[1]) +\r\n                  \",\" +\r\n                  Math.round(rgb1[2]) +\r\n                  \")\";\r\n                var color2 =\r\n                  \"rgb(\" +\r\n                  Math.round(rgb2[0]) +\r\n                  \",\" +\r\n                  Math.round(rgb2[1]) +\r\n                  \",\" +\r\n                  Math.round(rgb2[2]) +\r\n                  \")\";\r\n                jsc.picker.sldGrad.draw(\r\n                  THIS.sliderSize,\r\n                  THIS.height,\r\n                  color1,\r\n                  color2\r\n                );\r\n                break;\r\n              case \"v\":\r\n                var rgb = HSV_RGB(THIS.hsv[0], THIS.hsv[1], 100);\r\n                var color1 =\r\n                  \"rgb(\" +\r\n                  Math.round(rgb[0]) +\r\n                  \",\" +\r\n                  Math.round(rgb[1]) +\r\n                  \",\" +\r\n                  Math.round(rgb[2]) +\r\n                  \")\";\r\n                var color2 = \"#000\";\r\n                jsc.picker.sldGrad.draw(\r\n                  THIS.sliderSize,\r\n                  THIS.height,\r\n                  color1,\r\n                  color2\r\n                );\r\n                break;\r\n            }\r\n          }\r\n\r\n          function redrawSld() {\r\n            var sldComponent = jsc.getSliderComponent(THIS);\r\n            if (sldComponent) {\r\n              // redraw the slider pointer\r\n              switch (sldComponent) {\r\n                case \"s\":\r\n                  var yComponent = 1;\r\n                  break;\r\n                case \"v\":\r\n                  var yComponent = 2;\r\n                  break;\r\n              }\r\n              var y = Math.round(\r\n                (1 - THIS.hsv[yComponent] / 100) * (THIS.height - 1)\r\n              );\r\n              jsc.picker.sldPtrOB.style.top =\r\n                y -\r\n                (2 * THIS.pointerBorderWidth + THIS.pointerThickness) -\r\n                Math.floor(sliderPtrSpace / 2) +\r\n                \"px\";\r\n            }\r\n          }\r\n\r\n          function isPickerOwner() {\r\n            return jsc.picker && jsc.picker.owner === THIS;\r\n          }\r\n\r\n          function blurValue() {\r\n            THIS.importColor();\r\n          }\r\n\r\n          // Find the target element\r\n          if (typeof targetElement === \"string\") {\r\n            var id = targetElement;\r\n            var elm = document.getElementById(id);\r\n            if (elm) {\r\n              this.targetElement = elm;\r\n            } else {\r\n              jsc.warn(\"Could not find target element with ID '\" + id + \"'\");\r\n            }\r\n          } else if (targetElement) {\r\n            this.targetElement = targetElement;\r\n          } else {\r\n            jsc.warn(\"Invalid target element: '\" + targetElement + \"'\");\r\n          }\r\n\r\n          if (this.targetElement._jscLinkedInstance) {\r\n            jsc.warn(\r\n              \"Cannot link jscolor twice to the same element. Skipping.\"\r\n            );\r\n            return;\r\n          }\r\n          this.targetElement._jscLinkedInstance = this;\r\n\r\n          // Find the value element\r\n          this.valueElement = jsc.fetchElement(this.valueElement);\r\n          // Find the style element\r\n          this.styleElement = jsc.fetchElement(this.styleElement);\r\n\r\n          var THIS = this;\r\n          var container = this.container\r\n            ? jsc.fetchElement(this.container)\r\n            : document.getElementsByTagName(\"body\")[0];\r\n          var sliderPtrSpace = 3; // px\r\n\r\n          // For BUTTON elements it's important to stop them from sending the form when clicked\r\n          // (e.g. in Safari)\r\n          if (jsc.isElementType(this.targetElement, \"button\")) {\r\n            if (this.targetElement.onclick) {\r\n              var origCallback = this.targetElement.onclick;\r\n              this.targetElement.onclick = function (evt) {\r\n                origCallback.call(this, evt);\r\n                return false;\r\n              };\r\n            } else {\r\n              this.targetElement.onclick = function () {\r\n                return false;\r\n              };\r\n            }\r\n          }\r\n\r\n          /*\r\n\t\tvar elm = this.targetElement;\r\n\t\tdo {\r\n\t\t\t// If the target element or one of its offsetParents has fixed position,\r\n\t\t\t// then use fixed positioning instead\r\n\t\t\t//\r\n\t\t\t// Note: In Firefox, getComputedStyle returns null in a hidden iframe,\r\n\t\t\t// that's why we need to check if the returned style object is non-empty\r\n\t\t\tvar currStyle = jsc.getStyle(elm);\r\n\t\t\tif (currStyle && currStyle.position.toLowerCase() === 'fixed') {\r\n\t\t\t\tthis.fixed = true;\r\n\t\t\t}\r\n\r\n\t\t\tif (elm !== this.targetElement) {\r\n\t\t\t\t// attach onParentScroll so that we can recompute the picker position\r\n\t\t\t\t// when one of the offsetParents is scrolled\r\n\t\t\t\tif (!elm._jscEventsAttached) {\r\n\t\t\t\t\tjsc.attachEvent(elm, 'scroll', jsc.onParentScroll);\r\n\t\t\t\t\telm._jscEventsAttached = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} while ((elm = elm.offsetParent) && !jsc.isElementType(elm, 'body'));\r\n\t\t*/\r\n\r\n          // valueElement\r\n          if (this.valueElement) {\r\n            if (jsc.isElementType(this.valueElement, \"input\")) {\r\n              var updateField = function () {\r\n                THIS.fromString(THIS.valueElement.value, jsc.leaveValue);\r\n                jsc.dispatchFineChange(THIS);\r\n              };\r\n              jsc.attachEvent(this.valueElement, \"keyup\", updateField);\r\n              jsc.attachEvent(this.valueElement, \"input\", updateField);\r\n              jsc.attachEvent(this.valueElement, \"blur\", blurValue);\r\n              this.valueElement.setAttribute(\"autocomplete\", \"off\");\r\n            }\r\n          }\r\n\r\n          // styleElement\r\n          if (this.styleElement) {\r\n            this.styleElement._jscOrigStyle = {\r\n              backgroundImage: this.styleElement.style.backgroundImage,\r\n              backgroundColor: this.styleElement.style.backgroundColor,\r\n              color: this.styleElement.style.color,\r\n            };\r\n          }\r\n\r\n          if (this.value) {\r\n            // Try to set the color from the .value option and if unsuccessful,\r\n            // export the current color\r\n            this.fromString(this.value) || this.exportColor();\r\n          } else {\r\n            this.importColor();\r\n          }\r\n        },\r\n      };\r\n\r\n      //================================\r\n      // Public properties and methods\r\n      //================================\r\n\r\n      // By default, search for all elements with class=\"jscolor\" and install a color picker on them.\r\n      //\r\n      // You can change what class name will be looked for by setting the property jscolor.lookupClass\r\n      // anywhere in your HTML document. To completely disable the automatic lookup, set it to null.\r\n      //\r\n      jsc.jscolor.lookupClass = \"jscolor\";\r\n\r\n      jsc.jscolor.installByClassName = function (className) {\r\n        var inputElms = document.getElementsByTagName(\"input\");\r\n        var buttonElms = document.getElementsByTagName(\"button\");\r\n\r\n        jsc.tryInstallOnElements(inputElms, className);\r\n        jsc.tryInstallOnElements(buttonElms, className);\r\n      };\r\n\r\n      jsc.register();\r\n\r\n      return jsc.jscolor;\r\n    })();\r\n  }\r\n\r\n  return<></>;\r\n}\r\n\r\nexport default Color"],"mappings":"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"},"metadata":{},"sourceType":"module"}